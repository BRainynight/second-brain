---
title: "讓介面易於被使用"
date: 2023-04-10 21:03
tags:
- cpp
---
## Return Const Value
避免回傳值被修改，如此例中，類別 `Rational` (有理數) 的乘積符號禁止其回傳值被賦予值 (assignment)。

```cpp
class Rational { ... }; 
const Rational operator*(const Rational& lhs, const Rational& rhs);
```

聽起來有點怪，但它可以預防 client 端寫出這種 code: 
```cpp
Rational a, b, c;
(a*b) = c;

if (a*b = c) { ... };
```

我想，作者的舉這個例子有 Defensive programming 的概念在。如若這些變數是內建型別 (ex. int)，這種寫法直接就會被擋掉。但像此例，它們是 User-defined 的型別，對於設計 class 的 designer 而言，最好將這種無意義的行為擋掉。