{"/":{"title":"ğŸª´ Main Page","content":"\næˆ‘æœƒå°‡æˆ‘æ‰€è®€æ‰€å­¸çš„ä¸€é»é»æ‘˜è¦é€²ä¾†ï¼Œå¸Œæœ›æœ‰ä¸€å¤©ä»–å€‘å¯ä»¥å»ºæ§‹èµ·å¼·å¤§çš„çŸ¥è­˜ç¶²è·¯ã€‚\n\n\n\n## è¿‘æœŸé–±è®€\n\n- [[notes/Resource/Books/The Second Brain]]\n\n\n## æ–‡ç« å¼•å°\n\n- [[notes]]\n- [[tags]]\n- [[notes/Project/Effective C++ Series/Effective C++ Outline]]\n\n\n","lastmodified":"2023-04-21T13:53:16.162319722Z","tags":[]},"/notes/Archive/Special-Syntax-in-Theme-Things-2":{"title":"Special Syntax in Theme Things 2","content":"\n## Basic\n- [ ] to-do\n- [/] incomplete\n- [x] done\n- [-] canceled\n- [\u003e] forwarded\n- [\u003c] scheduling\n\n## Extras\n- [?] question\n- [!] important\n- [*] star\n- [\"] quote\n- [l] location\n- [b] bookmark\n- [i] information\n- [S] savings\n- [I] idea\n- [p] pros\n- [c] cons\n- [f] fire\n- [k] key\n- [w] win\n- [u] up\n- [d] down\n\n\nhttps://github.com/colineckert/obsidian-things\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Area/Hugo/Hugo-Publish-Simple-Page":{"title":"ä»¥ Hugo ç™¼ä½ˆç°¡å–®çš„é é¢","content":"## Hugo å»ºç«‹éƒ¨è½æ ¼çš„ç¯„ä¾‹\n\nç›´æ¥ç”¨ Hugo å»ºç«‹éƒ¨è½æ ¼ï¼Œä¸ä½¿ç”¨ Quartz çš„ç¯„ä¾‹:\n\n### Start\n\nhugo new site quickstart  \ncd quickstart  \ngit init  \ngit submodule add https://github.com/theNewDynamic/gohugo-theme-ananke themes/ananke  \necho \"theme = 'ananke'\" \u003e\u003e config.toml  \nhugo server\n\n[https://gohugo.io/getting-started/quick-start/](https://gohugo.io/getting-started/quick-start/)\n\n### å°‡ Markdown æª”æ¡ˆè½‰æ›æˆ Web Page\n\nhugo server --buildDrafts  \nhugo server -D\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Area/Hugo/Hugo-front-matter":{"title":"Hugo å¯ä½¿ç”¨çš„metadata","content":"\nSource: https://gohugo.io/content-management/front-matter/\n\nèˆ‰ä¾‹:\n\n```yaml\ncategories:\n- Development\n- VIM\ndate: \"2012-04-06\"\ndescription: spf13-vim is a cross platform distribution of vim plugins and resources\n  for Vim.\nslug: spf13-vim-3-0-release-and-new-website\ntags:\n- .vimrc\n- plugins\n- spf13-vim\n- vim\ntitle: spf13-vim 3.0 release and new website\n```\n\nå¯å»ºç«‹ Obsidian æ¨¡æ¿:\n\n```yaml\ntitle: \ndate: {{date}}\ndescription: \n\nslug: alias-name\ntags:\n- default\ncategories:\n- default\n\n```\n\næœ¬é æ‰€ä½¿ç”¨çš„ metadata: \n```yaml\ntitle: \"å¯ä½¿ç”¨çš„metadata\"\ndate: 2023-04-09\nslug: usable meta data # ç¶²å€è®Šæˆæ­¤åç¨±\ncategories:\n- blog\n```\n\né€™è£¡ï¼Œæˆ‘è®“æª”æ¡ˆåç¨±è®Šæˆ\n- filename: `Hugo front matter.md` \n- title: `å¯ä½¿ç”¨çš„metadata` \u003e é é¢æ¨™é¡Œ\n- slug: `usable meta data` \u003e é€£çµåç¨±\n\n\n## Category vs. Tag\n\nåœ¨æ‰“é€ ç¬¬äºŒå¤§è…¦ä¸­ï¼Œä½œè€…æå‡º Tag æ˜¯ä¸€ç¨®æ‰“ç ´è³‡æ–™å¤¾é‚Šç•Œçš„é€£çµæ–¹å¼ã€‚æˆ‘å¸Œæœ›ï¼Œåœ¨æˆ‘çš„éƒ¨è½æ ¼ä¸­ï¼Œæˆ‘å¸Œæœ›è®“ç¶²é æœƒ Category åšè³‡æ–™å¤¾å£å£˜çš„åˆ†é¡ï¼Œæœ‰å¿…è¦æ™‚å†ä»¥ tag æ‰“ç ´é‚Šç•Œã€‚\n\nä½†ä¼¼ä¹ quartz æ”¯æ´çš„åªæœ‰ tags è€Œæ²’æœ‰ categoriesã€‚æˆ‘æƒ³åƒè€ƒé€™ç¯‡æ–‡ç« è©¦è©¦çœ‹èƒ½ä¸èƒ½æ‰“é–‹è©²åŠŸèƒ½: \nhttps://ithelp.ithome.com.tw/articles/10244921\n\n## Description\næ²’æœ‰ç”¨ï¼Œä¸æœƒæ”¹è®Šé è¦½é é¢çš„å…§å®¹ã€‚\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Area/Obsidian/Obsidian-Plugins":{"title":"Obsidian Plugins","content":"## Theme\n- ç•¶å‰ç”¨çš„æ˜¯ Thing2\n- [minimal](https://minimal.guide/Home) ä¹Ÿæ˜¯ç†±é–€çš„ä¸»é¡Œï¼Œä¸”èˆ‡è¨±å¤š plugin ç›¸å®¹\n\t- ä½†æ˜¯ header ä¹‹é–“ä¸åŒéšç´šæ²’æœ‰å¤§å°ä¹‹åˆ†ï¼Œæˆ‘ä¸å–œæ­¡ï¼Œè¦ç”¨éœ€è¦æ”¹ CSSã€‚\n\n\n\n## Plugin\n- Obsidian Dataview mode: like notion https://ithelp.ithome.com.tw/articles/10279262\n\n\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Area/Obsidian/Sync-Obsidian":{"title":"Obsidian Publish çš„æ›¿ä»£é¸æ“‡","content":"æƒ³åœ¨ IOS ä¸Šé¢ä¹Ÿæœ‰ Sync çš„ Obsidian å¯ä»¥ç”¨!\n\nç¤¾ç¾¤çš„ä½œæ³•æ˜¯è£ ISH ä»¥ Git åŒæ­¥ï¼Œæˆ‘æƒ³å¯¦é©—ç”¨ Terminus (æ¯”èµ· ISH æœ‰åœ¨ç¶­è­·)\n\n- [Sync with git on iOS for free using iSH](https://forum.obsidian.md/t/mobile-sync-with-git-on-ios-for-free-using-ish/20861)\n- [Setting up iOS git-based syncing with mobile app (using Working Copy)](https://forum.obsidian.md/t/mobile-setting-up-ios-git-based-syncing-with-mobile-app-using-working-copy/16499)\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Area/Quartz/%E4%BD%BF%E7%94%A8-Quartz-%E5%BB%BA%E7%AB%8B%E9%83%A8%E8%90%BD%E6%A0%BC":{"title":"ä½¿ç”¨ Quartz å»ºç«‹éƒ¨è½æ ¼","content":"\n\n## Install\n\n1. Git\n2. Go lang\n3. Hugo: éœ€è¦æ‰‹å‹•åŠ ç’°å¢ƒè®Šæ•¸\n4.  `go-obsidian`\n    ```go\n    go install github.com/jackyzha0/hugo-obsidian@latest\n    ```\n5. **Optional**  `make` `: Windows ä¸‹é ˆä½¿ç”¨ MinGW å®‰è£ï¼Œåƒè€ƒ: [C++ é–‹ç™¼ç’°å¢ƒ åœ¨ Windows 11 ä¸­å®‰è£ mingw-w64 åŠè¨­å®šç’°å¢ƒè®Šæ•¸](http://kaiching.org/pydoing/cpp-guide4/how-to-install-mingw-w64-and-set-environment-variable.html)\n\nHugo éœ€è¦ä»¥ PowerShell](https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-windows) æˆ– WSL , Git Bash é€™ç¨® linux-based terminal é‹è¡Œã€‚\n\n## Start to Quzrtz\nå®˜æ–¹ç¶²ç«™æœ‰ç›¸é—œçš„æ•™å­¸: \n- https://quartz.jzhao.xyz/notes/setup/\n- https://quartz.jzhao.xyz/notes/obsidian/\n\nä»¥ä¸‹æˆ‘å°‡æ“·å–æœ€çŸ­æ­¥é©Ÿ\n### æ‘˜è¦æ­¥é©Ÿ\n\n1. Fork quartz çš„ Github å°ˆæ¡ˆï¼Œä¸¦ clone åˆ° Localã€‚\n2. åœ¨ Clone ä¸‹ä¾†çš„å€‰åº«ä¸­æ‰¾åˆ°è³‡æ–™å¤¾ `content`\n3. åœ¨ `content` è³‡æ–™å¤¾ä¸­å‰µå»º Obsidian å€‰åº«ï¼Œæˆ–æ˜¯æŠŠæ—¢æœ‰çš„å€‰åº«å…§å®¹æ”¾åˆ° content è£¡é¢ã€‚\n4. å°‡ Obsidian å€‰åº«è½‰æ›æˆ Hugo å¯ç”¨çš„\n\n    ```bash\n     hugo-obsidian -input=content -output=assets/indices -index -root=.\n    ```\n\n    éœ€è¦æ³¨æ„ï¼Œmarkdown æª”åä¸å¯ä»¥æœ‰ `.`ï¼Œä¸”æ¯ä¸€ç¯‡æ–‡ç« éƒ½è¦æœ‰ metadata: åœ¨é é¦–æœ‰ `title` çš„è³‡è¨Šï¼Œå¦‚ä¸‹: \n\n    ```markdown\n    ---\n    title: \"Private Stuff\"\n    ---\n    ```\n\n    å…¶å¯¦æœ‰æ›´å¤šçš„ meta-data å¯ä»¥è¨­å®šï¼Œå¯ä»¥çœ‹ quartz çµ¦çš„ç¯„ä¾‹ã€‚ç”±æ–¼ä½¿ç”¨ quartz å‰µå»ºæ¨¡æ¿å¿…é ˆè¦ metadataï¼Œ[ä½œè€…å»ºè­°](https://quartz.jzhao.xyz/notes/obsidian/)å¯ä»¥ç›´æ¥åœ¨ Obsidian è£¡é¢å‰µå»ºæ¨¡æ¿ï¼Œè®“æ¯æ–°å¢ä¸€å€‹æ¨¡æ¿éƒ½æœ‰é€™äº›è³‡è¨Š! \n\n5. å•Ÿç”¨ Hugo Server\n\n    ```bash\n     hugo server --enableGitInfo --minify \t# render faster\n     hugo server --disableFastRender \t\t# search bar will enable\n    ```\n\n\n## é—œæ–¼ Obsidian æ¨¡æ¿åŠŸèƒ½\n- å¯ä»¥åƒè€ƒæ­¤æ–‡ä»‹ç´¹å¦‚ä½•å»ºç«‹æ¨¡æ¿ [ã€Obsidian ä½¿ç”¨æ•™å­¸ã€‘ç­†è¨˜ç¯‡ 05 â€” çµåˆè³‡è¨Šè™•ç†æµç¨‹ï¼Œè®“ç­†è¨˜çš„ Metadata è®Šå¾—æ›´è©³ç´°](https://medium.com/pm%E7%9A%84%E7%94%9F%E7%94%A2%E5%8A%9B%E5%B7%A5%E5%85%B7%E7%AE%B1/obsidian-%E4%BD%BF%E7%94%A8%E6%95%99%E5%AD%B8-%E7%AD%86%E8%A8%98%E7%AF%87-05-%E7%B5%90%E5%90%88%E8%B3%87%E8%A8%8A%E8%99%95%E7%90%86%E6%B5%81%E7%A8%8B-e6a953438f43)\n- è¦æ³¨æ„ï¼Œæ’å…¥æ¨¡æ¿çš„æ™‚å€™ï¼Œéœ€è¦æ‰“å®Œæª”æ¡ˆåç¨±ï¼Œä¸¦æŠŠ Insert çš„é¼ æ¨™è¦åœ¨ Header 1 ä¸‹çš„ç¬¬ä¸€è¡Œã€‚\n\n## ç™¼ä½ˆåˆ° Github Page\n\nåƒè€ƒ \n\n![[Publish Quartz to Github Page]]\n\n\n## ä¿®æ”¹é¦–é \n\nå¦‚æœæƒ³åœ¨é¦–é æ”¾ç½®ä¸€äº›é€£çµï¼Œå¼•å°åˆ°ç‰¹å®šé é¢ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å¹¾é»: é›™å‘é€£çµå…§æ”¾çš„æ˜¯ã€Œç›¸å°æ–¼è©²é é¢çš„è·¯å¾‘ã€ï¼Œè·¯å¾‘å°æ‡‰çš„æ˜¯æª”æ¡ˆåç¨±ã€‚\n\n1.  ç•¶æª”æ¡ˆåç¨±æœ‰ç©ºç™½æ™‚ï¼Œç¶²å€æœƒä»¥ `-` å–ä»£ç©ºç™½ï¼Œä½†åœ¨é›™å‘é€£çµçš„æ’°å¯«ä¸­ä¸å¯ä»¥å¯« `-`ã€‚\n```\n[[notes/Area/PKM/Setup Quartz]] # OK  \n[[notes/Area/PKM/Setup-Quartz]] # Broken internal link\n```\n2.  æ³¨æ„çµå°¾ä¸è¦å¤šåŠ åæ–œç·š    \n3.  ä¸»é ç›¸å°æ–¼å„æª”æ¡ˆéƒ½æ˜¯ä»¥ `note/` é–‹å§‹\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Area/Quartz/Publish-Quartz-to-Github-Page":{"title":"å°‡ Quartz ç™¼ä½ˆåˆ° Github Page","content":"ç”±æ–¼æˆ‘å° github action ä¸ç†Ÿæ‚‰ï¼Œåœ¨è¨­ç½®åˆ° github page çš„æ™‚å€™é‡åˆ°äº†ä¸€é»å›°é›£...ã€‚\n\né¦–å…ˆï¼Œå¦‚æœå°ˆæ¡ˆæ˜¯å¾ templage fork éä¾†çš„ï¼Œå®ƒæ‡‰è©²åˆ†æˆ `hugo` è·Ÿ `master` å…©å€‹ branchã€‚å…¶ä¸­\n\n- `hugo`: å­˜æ”¾ config, markdown files (`content` åº•ä¸‹) çš„åœ°æ–¹\n- `master`: åˆ©ç”¨ github action æŠŠå°ˆæ¡ˆå…§å®¹è½‰æˆéœæ…‹ç¶²é \n\næˆ‘å› ç‚ºæ˜¯ clone ä¸‹ä¾†å† push åˆ°è‡ªå·±çš„å°ˆæ¡ˆï¼Œæ²’æœ‰éµå®ˆé€™å…©å€‹å‘½åæ–¹å¼è€Œé‡åˆ°äº†ä¸€é»å›°é›£ã€‚åœ¨æˆ‘çš„å°ˆæ¡ˆä¸­ï¼Œ`main` å°æ‡‰çš„æ˜¯å­˜æ”¾ markdown files (è½‰æ›å‰) çš„ pageï¼Œ`publish` æ‰æ˜¯ github page å†ç”Ÿæˆæ™‚æ‰€æ ¹æ“šçš„ branchã€‚\n\n## è¨­ç½® Github Action \n\nå¦‚ä½œè€…çš„[æ•™å­¸](https://quartz.jzhao.xyz/notes/hosting/)æ‰€èªªï¼Œé¦–å…ˆè¦æ‰“é–‹ workflow permissionã€‚ä½ç½®æ˜¯ `Setting \u003e Action \u003e General`ã€‚\n\n![Set workflow Permission](https://quartz.jzhao.xyz/notes/images/github-actions.png)\n\n## è¨­ç½® Github Page \n\nåœ¨ `Setting \u003e Pages` ç•¶ä¸­ï¼Œå°‡è¨­ç½® Source é …ç›®çš„ branch è¨­æˆ `master` (æˆ‘å‰‡æ˜¯è¨­æˆ `pubslish`)ã€‚Domain name é™¤éè‡ªå·±æœ‰ç‰¹åˆ¥è²·ç¶²åŸŸï¼Œå¦å‰‡ä¸ç”¨å‹•ã€‚\n\n![Github page setting](https://quartz.jzhao.xyz//notes/images/github-pages.png)\n\n## Domain Name \n\nä¸€å…±æœƒå½±éŸ¿å…©å€‹åœ°æ–¹:\n\n- `config.toml`\n- `.github/workflows/deploy.yaml`\n\nå¦‚æœç”¨ github é è¨­çš„ç¶²å€æœƒæ˜¯ `\u003cYOUR-GITHUB-USERNAME\u003e.github.io/\u003cProject-Name\u003e`ã€‚`config.toml` çš„è¨­å®šå¾ˆç°¡å–®ï¼Œå°±å¯«é€™å€‹å°ˆæ¡ˆ root ç¶²å€ç‚ºä½•:\n\n```yaml\nbaseURL = \"https://\u003cYOUR-GITHUB-USERNAME\u003e.github.io/\u003cPROJ\u003e/\"\n```\n\n`.github/workflows/deploy.yaml` å‰‡è¦å°å¿ƒï¼Œé€™è£¡ç›´æ¥ä»¥æˆ‘çš„ç‚ºä¾‹ï¼Œéœ€è¦æ”¹å…©å€‹åœ°æ–¹ã€‚\n\n```yaml\non:\n  push:\n    branches:\n      - main # ä½œè€…çš„ç¯„ä¾‹æ˜¯ hugo, å› ç‚ºæˆ‘æœ‰æ› branch name æ‰€ä»¥è¦æ”¹      \n```\n\né€™æ¨£ï¼Œæ¯ç•¶ push è¡Œç‚ºç™¼ç”Ÿåœ¨ `main` branch ä¸Šï¼Œå°±æœƒè§¸ç™¼é€™å€‹ actionã€‚ \n\n\n```yaml\n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./public\n          publish_branch: publish\t# ä½œè€…é è¨­æ˜¯ master\n          cname: brainynight.github.io # ä¸ç”¨æŠŠ proj name ä¹Ÿå¯«ä¸Šå»\n```\n\n## é è¦½è®Šæ›´\n\nGithub Action ç•¶ä¸­ï¼Œå·²ç¶“æŠŠå»ºç«‹ graph (`hugo-obsidian`) çš„æ­¥é©Ÿä¹ŸåŒ…å«ä¸Šå»äº†ã€‚ä½†è¦ç™¼å¸ƒä¹‹å‰æˆ‘å€‘ç¸½éœ€è¦è‡ªå·±æœ¬åœ°å…ˆçœ‹çœ‹ã€‚\n\nä½œè€…å…¶å¯¦æœ‰ makefileï¼Œæ‡‰è©²å¯ä»¥ `make server`ï¼Œæœƒè‡ªå‹•å»ºç«‹ graph å’Œ `hugo server`ï¼Œæˆ–æ˜¯æ‡¶å¾—å®‰è£ `make` ä¹Ÿå¯ä»¥ç›´æ¥æ‰“æŒ‡ä»¤ã€‚ä»¥ windows æƒ³è¤‡è£½ D æ§½æª”æ¡ˆç‚ºä¾‹: \n\n```bash\ncp /d/Database/*.md content/notes\nhugo-obsidian -input=content -output=assets/indices -index -root=.\nhugo server --disableFastRender\n```\n\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["Quartz"]},"/notes/Project/Effective-C++-Series/%E6%80%9D%E7%B6%AD%E8%AA%A4%E5%8D%80-%E7%89%A9%E4%BB%B6%E5%BE%88%E5%B0%8F%E5%B0%B1%E5%8F%AF%E4%BB%A5-Pass-By-value":{"title":"æ€ç¶­èª¤å€-ç‰©ä»¶å¾ˆå°å°±å¯ä»¥ Pass By value","content":"æœ‰ä¸‰å€‹ä¸»å› : \n1. ä¸¦éã€Œè©²ç‰©ä»¶/containerã€**çœ‹èµ·ä¾†**å¾ˆå°ï¼Œç”¨ Pass by value å°±æ²’æœ‰å•é¡Œã€‚è¨±å¤š  STL Container åœ¨å¯¦ä½œä¸Šçš„å¤§å°ä¹Ÿå°±ä¸€å€‹ Pointer å¤§ä¸€é»ï¼Œä½† Copy Container å»æœ‰ã€Œè¤‡è£½æ¯ä¸€å€‹ Pointer æ‰€æŒ‡å‘çš„ç‰©ä»¶ã€çš„é¢¨éšªåœ¨ã€‚\n2. è¦– Compiler è€Œå®šï¼Œæœ‰äº› Compiler å°å¾… Custom class è·Ÿ built-in class çš„æ…‹åº¦å¤§ä¸ç›¸åŒï¼Œå³ä½¿åº•å±¤è¡¨è¿°(underlying representation) ç›¸åŒï¼Œä»å¯èƒ½ä»¥ä¸åŒçš„æ“ä½œå°å¾…ï¼Œå°è‡´ Copy åœ¨ Custom Class å°±æ˜¯æ¯”è¼ƒæ…¢ã€‚\n3. Type å¯¦ä½œå¯èƒ½ç™¼ç”Ÿæ”¹è®Šï¼Œç¾åœ¨ Copy çš„ä»£åƒ¹ä¸æ˜‚è²´ï¼Œä¸ä»£è¡¨ä»¥å¾Œä¸æœƒã€‚\n\n## Pass By Value çš„ä»£åƒ¹\n[[The Copying in Pass by value]]\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/%E6%89%93%E7%A0%B4-Constness-%E9%99%90%E5%88%B6":{"title":"æ‰“ç ´ Constness é™åˆ¶","content":"\n### Physical Constness\n\u003e ç·¨è­¯å™¨å …å®ˆçš„è§€é»: Physical Constnessï¼Œåˆç¨± Bitwise constnessã€‚Const member function ä¸å¯ä»¥ä¿®æ”¹ä»»ä½• non-static member dataã€‚\n\nç„¶è€Œï¼Œè«‹çœ‹ä¸‹ä¾‹: `operator[]` ç¢ºå¯¦ä¸æœƒæ›´å‹•åˆ° member dataï¼Œå¯ä»¥é€šé Bitwise Testingï¼Œå»æŠŠã€Œæ”¹å‹•æ¬Šã€æš´éœ²çµ¦ Client ç«¯ï¼Œé€ æˆä¸æ‡‰è©²çš„è³¦å€¼è¡Œç‚ºã€‚\n- [[Item28 Avoid returning handles to object internals]]\n\n```cpp\nclass CTextBlock {\n\npublic:\nÂ  Â  // inappropriate (but bitwise const) declaration of operator[]\nÂ  Â  char\u0026 operator[](std::size_t position) const\nÂ  Â  { return pText[position]; }\nÂ  Â  \nprivate:\nÂ  Â  char *pText;\n}\n\nconst CTextBlock ctb(\"World\");\nctb[0]='F'; // Become \"Forld\"\n```\næ­¤ä¾‹æ‡‰è©²å°‡å›å‚³å‹æ…‹ä¿®æ”¹ç‚º `const char\u0026`ã€‚\n\nç·¨è­¯å™¨å …å®ˆçš„ Bitwise constness è§€å¿µï¼Œé€ æˆ Const Function ä½œç”¨éæ–¼ç¶æ‰‹ç¶è…³ï¼Œç”šè‡³åœ¨ Const \u0026 Non-Const function ä¹‹é–“æˆ‘å€‘å¯èƒ½éœ€è¦ Own å…©ä»½ç›¸ä¼¼çš„ Code! \næ¥ä¸‹ä¾†å°‡èªªæ˜ `mutable` èˆ‡ const castï¼Œä»–å€‘å°‡å¹«åŠ©æˆ‘å€‘ç ´é™¤ const çš„é™åˆ¶ï¼Œä½¿ç¨‹å¼è¨­è¨ˆæ›´åŠ éˆæ´»ã€‚\n\n### Logical Constness\n\u003e æ¦‚å¿µä¸Šçš„å¸¸æ•¸æ€§ (Conceptual Constness)\n\næˆ‘å°é€™å€‹è«–é»çš„è§£è®€æ˜¯ï¼ŒæŸäº› data æ˜¯è—æ–¼å°è£åº•ä¸‹ï¼Œæ²’æœ‰æš´éœ²çµ¦ User ä¿®æ”¹çš„ã€‚é€™ç¨® member data åœ¨ logical constness çš„è§€å¿µä¸‹æ˜¯å¯è¢«ä¿®æ”¹çš„ã€‚\næ›¸ä¸­èˆ‰ä¾‹ï¼Œè‹¥æˆ‘å€‘åœ¨ `CTextBlock` ç•¶ä¸­æœ‰ä¸€å€‹å¿«å– (cache) çš„ member data ï¼Œç”¨ä¾†è¨˜ç•¶å‰å­—ä¸²çš„é•·åº¦ã€‚ç•¶å­—ä¸²æ²’æœ‰ä¿®æ”¹é•·åº¦çš„è¡Œç‚º(å¢åŠ /æ¸›å°‘)æ™‚ï¼Œæ­¤å¿«å–éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚ä½†è‹¥æœ‰ä¿®æ”¹è¡Œç‚ºï¼Œå‰‡åœ¨ `length()` è¢« Query æ™‚ï¼Œæˆ‘å€‘æœƒéœ€è¦æ›´æ–°é€™å€‹å¿«å–ã€‚\n\nåœ¨ Bitwise Constness çš„è§€å¿µä¸‹ï¼Œä¿®æ”¹é€™å€‹å¿«å–ç”¨é€”çš„ member data æ˜¯ä¸åˆæ³•çš„ï¼Œä¸”é€™ä¹Ÿæ˜¯ Compiler çš„è§€é»ã€‚\nè§£æ±ºè¾¦æ³•æ˜¯ï¼Œä½¿ç”¨é—œéµå­— `mutable` å®£å‘Šé€™äº›æœ‰è³‡æ ¼åœ¨ const function å…§è¢«æ”¹å‹•çš„ dataï¼Œ`mutable` ä½¿å¾— const function åœ¨å¯¦è¸ä¸Šæœ‰è¨åƒ¹é‚„åƒ¹çš„ç©ºé–“ã€‚\n\n\u003e `mutable` é‡‹æ”¾ non-static member data çš„ bitwise constness ç´„æŸ (é‡‹æ”¾ member data çš„ä¸å¯è®Šå‹•æ€§)ã€‚\n\n\n### Avoiding Duplication in const and Non-const Member Functions\n\u003e ç•¶ const å’Œ non-const member function æœ‰ç­‰åƒ¹çš„å¯¦ä½œæ™‚ï¼Œè®“ non-const å‘¼å« const å¯ä»¥é¿å… duplicated codeã€‚\n\nè‹¥æˆ‘å€‘åœ¨ const \u0026 non-const function ç•¶ä¸­ï¼Œéƒ½æœ‰ç›¸åŒçš„ç¨‹åºè¦åš: é‚Šç•Œæª¢æŸ¥ã€write logã€verty data...ï¼Œå³ä½¿å­æ­¥é©Ÿéƒ½å¯ä»¥æŠ½å‡ºä¾†ï¼Œé‚„æ˜¯é€ æˆã€Œèµ° flow çš„æµç¨‹ã€æœƒé‡è¤‡åœ¨å…©å€‹ function ç•¶ä¸­ã€‚\n\n```cpp\nclass TextBlock \n{\n\tconst char\u0026 operator[](std::size_t position) const;\n\tchar\u0026 operator[](std::size_t position);\n}\n```\n\næˆ‘å€‘è©²åšçš„æ˜¯ï¼ŒæŠŠæ‰€æœ‰çš„æ±è¥¿å¯«åœ¨å…¶ä¸­ä¸€å€‹ï¼Œè€Œå¦ä¸€å€‹å»å‘¼å«å¯«è‘— flow çš„ functionã€‚é€™èªªæ˜äº†æˆ‘å€‘çš„ä¸€å€‹éœ€æ±‚: å»é™¤ Constness!\n\næˆ‘æ‡·ç–‘é€™å€‹æ‰‹æ³•åœ¨ C++11 \u0026 14 å¯èƒ½æœ‰å…¶ä»–è§£ï¼Œé€™è£¡å…ˆè·³éç´°ç©¶ã€‚ç°¡å–®ä¾†èªªå°±æ˜¯é€é `const_cast` å°‡ const function çš„çµæœå†è½‰æˆé constã€‚\n\n```cpp\nclass TextBlock {\npublic:  \n\t// same as before\nÂ  Â  const char\u0026 operator[](std::size_t position) const {\nÂ  Â  Â  Â  return text[position];\nÂ  Â  }\n\t// now just calls const op[]\nÂ  Â  char\u0026 operator[](std::size_t position) \nÂ  Â  {\nÂ  Â  Â  Â  // cast away const on op[]â€™s return type\nÂ  Â  Â  Â  // add const to *this's type, call const version of op[]\nÂ  Â  Â  Â  return const_cast\u003cchar\u0026\u003e(\\\n\tÂ  Â  Â  Â  static_cast\u003cconst TextBlock\u0026\u003e(*this)[position]\n\t\t);\nÂ  Â  }\n};\n```\n ","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/%E7%82%BA%E4%BB%80%E9%BA%BC%E8%A6%81%E7%94%A8%E7%8D%A8%E7%AB%8B%E5%8F%A5%E5%B0%87%E7%89%A9%E4%BB%B6%E6%94%BE%E5%85%A5-Smart-Pointer":{"title":"ç‚ºä»€éº¼è¦ç”¨ç¨ç«‹å¥å°‡ç‰©ä»¶æ”¾å…¥ Smart Pointer","content":"\n\u003e ç›¡å¯èƒ½ç¢ºä¿ `new` å‡ºä¾†çš„ç‰©ä»¶ï¼Œå¯ä»¥ç«‹å³è¢«æ”¾å…¥ smart pointer è£¡é¢ï¼Œé¿å…ä»»ä½•é¡å¤–çš„æ­¥é©Ÿã€‚åªè¦æœ‰å¤šé¤˜çš„æ­¥é©Ÿï¼Œå°±å¯èƒ½å› ç‚ºæ„å¤–è€Œä½¿å¾— smart pointer æ²’æœ‰çœŸæ­£æŒæ§åˆ°è³‡æºã€‚\n\nä»¥ç¨ç«‹ä¸€å¥è©±å°‡ newed ç‰©ä»¶åŠ å…¥ smart pointerï¼Œæ ¼å¼å¦‚ä¸‹\n\n```cpp\nstd::shared_ptr\u003cWidget\u003e pw(new Widget);\nprocessWidget(pw, priority());\n```\n\n---\n\nå…¶åŸå› æ˜¯ï¼Œå¦‚æœåƒä»¥ä¸‹å¯«æ³•\n```cpp\nprocessWidget(std::shared_ptr\u003cWidget\u003e pw(new Widget), priority());\n```\n\nç·¨è­¯å™¨è¦åšçš„æœ‰ä¸‰ä»¶äº‹\n1. å‘¼å« `priority`\n2. åŸ·è¡Œ `new` \n3. å‘¼å« smart pointer constructor\n\nè€Œæˆ‘å€‘ç„¡æ³•ç¢ºä¿é€™ä¸‰ä»¶äº‹çš„æœ€çµ‚é †åºç‚ºä½•ï¼Œå¿…ç„¶çš„é—œä¿‚åªæœ‰ ã€Œæœƒå…ˆ `new` ï¼Œå†åŸ·è¡Œ smart pointer constructorã€ã€‚è€Œ `priority` æ˜¯**å¯èƒ½**å®‰æ’æ–¼ new ä¹‹å¾Œçš„ã€‚\n\n1. `new` \n2. `priority` (ç™¼ç”ŸéŒ¯èª¤)\n3. smart pointer constructor\n\nå¦‚æœä¸å¹¸çš„ï¼Œç·¨è­¯å™¨é¸æ“‡é€™ç¨®é †åºï¼Œä¸¦ä¸”åœ¨æŠŠç‰©ä»¶æ”¾å…¥ smart pointer ä¹‹å‰ç™¼ç”Ÿäº†éŒ¯èª¤ï¼Œé€™å¡Šè¨˜æ†¶é«”å°‡æ²’æœ‰ smart pointer å”åŠ©éŠ·æ¯€! \n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/%E7%82%BA%E5%A4%9A%E5%9E%8B%E7%94%A8%E9%80%94%E7%9A%84%E5%9F%BA%E7%A4%8E%E9%A1%9E%E5%88%A5%E5%AE%A3%E5%91%8A-virtual-%E8%A7%A3%E6%A7%8B%E5%BC%8F":{"title":"ç‚ºå¤šå‹ç”¨é€”çš„åŸºç¤é¡åˆ¥å®£å‘Š virtual è§£æ§‹å¼","content":"\n## å¤šå‹\nå¤šå‹æœ‰å€‹ç‰¹é»: Base Class çš„å­˜åœ¨æ˜¯ç‚ºäº†ã€Œç¶“ç”± Base Class Interface è™•ç½® Drived Class Objectã€ï¼Œä»¥ä¸‹ä¾‹ä¾†èªªï¼Œ `TimeKeeper` æ˜¯ä¸€å€‹ Polymorphic Base Classï¼Œæ‰€ä»¥æŒæœ‰ä¸€å€‹ `TimeKeeper` Pointer å°±å¯ä»¥è™•ç† `WaterClock`, `WristWatch` ç‰©ä»¶ï¼Œé€™å°±æ˜¯ä¸Šé¢é‚£å¥è©±çš„æ„æ€ã€‚\n\n```cpp\nclass TimeKeeper {\npublic:\n\tTimeKeeper();\n\tvirtural ~TimeKeeper();\n};\nclass AtomicClock: public TimeKeeper { ... };\nclass WaterClock: public TimeKeeper { ... };\nclass WristWatch: public TimeKeeper { ... };\n\nTimeKeeper* getTimeKeeper(); \n// Returned pointer may be AtomicClock, WaterClock, WristWatch\n// But they can be owned by base class \"TimeKeeper\"\n// This is polymorphy.\n```\n\nç¹¼æ‰¿èˆ‡å¤šå‹ä¹‹é–“ä¸¦éå……åˆ†å¿…è¦æ¢ä»¶ï¼Œ**éæ‰€æœ‰çš„ Base Class éƒ½æ˜¯ä½œç‚ºå¤šå‹ä½¿ç”¨**ã€‚\nåƒæ˜¯ [[Item47 Use traits classes for information about types]] çš„ `input_iterator_tag`ï¼Œç¹¼æ‰¿æ›´åƒæ˜¯ \"enable æŸç¨®ç‰¹æ€§\" çš„ç”¨é€”ã€‚ \n\n\n## å¤šå‹çš„ Base Class æ²’æœ‰ Virtural Destructor åˆå¦‚ä½•\nå¤šå‹ (polymorphic) çš„æ‰‹æ³•ä½¿æˆ‘å€‘å¯ä»¥æŒæœ‰ base class çš„ Pointer æŒ‡å‘å„ç¨® child class çš„å¯¦ä½œã€‚å·¥å» (Factory) Pattern å°±æ˜¯å…¸å‹çš„å¯¦ä½œã€‚\n\n\u003e [!question]\n\u003e ç‚ºäº†éµå®ˆ factory function çš„è¦çŸ©ï¼Œå“ªä¾†çš„è¦çŸ©?\n\nç‚ºäº†éµå®ˆ factory function çš„è¦çŸ©ï¼Œfactory function å›å‚³çš„ç‰©ä»¶å¿…é ˆä½æ–¼ heap (åœ¨ function ä¸­è¢« `new` å‡ºä¾†çš„)ï¼Œè¢« `new` å‡ºä¾†çš„ç‰©ä»¶å¿…é ˆæ‰‹å‹•åˆªé™¤å®ƒã€‚\n```cpp\nTimeKeeper* ptk = getTimeKeeper();\ndelete ptk;\n```\n\nå„˜ç®¡ [[Item13]] å’Œ [[è®“ä»‹é¢å®¹æ˜“è¢«ä½¿ç”¨]] èªªæ˜äº†ä¾è³´ client åš delete æœ‰æ½›åœ¨çš„å±éšªè·Ÿä¸ç¢ºå®šï¼Œé€™è£¡è¦èªªæ˜çš„æ˜¯æ›´åš´é‡ã€æ›´æ ¹æœ¬æ€§çš„å•é¡Œã€‚\n- æˆ‘å€‘å®£å‘Šçš„æ˜¯ **Base class pointer**ï¼ŒæŒ‡å‘çš„æ˜¯ **child class ç‰©ä»¶**ã€‚\n- Base class æ“æœ‰ä¸€å€‹ non-virtural çš„ destructor\n- C++ æ˜ç™½çš„å‘Šè¨´æˆ‘å€‘ï¼Œç•¶ child ç‰©ä»¶ç¶“ç”±æ“æœ‰ non-virtural destructor çš„ Base class pointer æŒæœ‰ï¼Œè€Œé€™å€‹ pointer è¢«åˆªé™¤æ™‚ï¼Œå±¬æ–¼ **Undefined behavior**\n\næ­¤ Undefined Behavior **é€šå¸¸**æœƒç™¼ç”Ÿçš„æ˜¯ï¼Œå±¬æ–¼ Base class éƒ¨åˆ†æˆåŠŸéŠ·æ¯€ï¼Œåªå±¬æ–¼ Child Class çš„ member data **æ²’æœ‰è¢«éŠ·æ¯€**ï¼Œé€ æˆ**éƒ¨åˆ†éŠ·æ¯€**çš„è©­ç•°ç‹€æ³ã€‚\n\nè¦æ¶ˆé™¤é€™ç¨®ä½œæ³•çš„è§£ç­”å°±æ˜¯ï¼Œçµ¦ Base class çš„ destructor è¨­ç½® `virtural`ã€‚\n\n\u003e ä¸€å€‹ Class è‹¥æœ‰å¸¶æœ‰ `virtural` çš„å‡½å¼ï¼Œå¹¾ä¹å¯ä»¥ç¢ºå®š**è©²æœ‰**æœƒå¸¶æœ‰ `virtural` çš„ destructorã€‚å¦‚æœä¸€å€‹ class ä¸å¸¶æœ‰ `virtural` functionï¼Œé€šå¸¸ä»£è¡¨å®ƒä¸æ„åœ–è¢«ç•¶ä½œ base classã€‚\n\n (å¯¦ä½œéƒ½å¯«å®Œåœ¨ base äº†ï¼Œé‚„ç‰¹æ„æç¹¼æ‰¿ override å¹¹å˜›?)ã€‚ç„¶è€Œï¼Œ`virtural` ä¹Ÿä¸æ‡‰è©²äº‚ç”¨: [[Do not Declare Virtural Function in Non-polymorphic Base Class]]ã€‚\n\n## ä¼åœ–ä»¥å¤šå‹è¨­è¨ˆæ¶æ§‹å‰ï¼Œæª¢æŸ¥ Base Class çš„ Destructor æ˜¯å¦ç‚º Virtual\n\nå¦‚æœä¸æ˜¯ virtural destructorï¼Œè«‹æƒ³åˆ¥çš„è¾¦æ³•!! \næ¥çºŒå‰é¢ç« ç¯€ï¼Œ**ä¸¦é** class ä¸­æ²’æœ‰ `virtural` functionï¼Œ**å°±ä¸éœ€è¦** è€ƒæ…® non-virtural destructor çš„å•é¡Œã€‚\n\nä»¥ä¾‹å­ä¾†èªªï¼Œè‹¥æœ‰å€‹ `SpecialString` ç¹¼æ‰¿ `std::string` (non-virtural destructor)ï¼Œåœ¨ `new` ä¸€å€‹ `SpecialString` ä¹‹å¾ŒæŒ‡çµ¦ `std::string` pointer ä¹‹å¾Œå°±æœƒé‡åˆ° Undefined Behavior çš„å•é¡Œ! \n\n```cpp\nSpecialString *pss = new SpecialString(\"Impending Doom\");\nstd::string *ps;\n\nps = pss;\ndelete ps; // undefined behavior\n```\n\nåŒæ¨£éœ€è¦æ³¨æ„çš„å¦‚ `std::vector`, `std::list`, `tr1::unordered_map` ([[Item55 Familiarize yourself with Boost]]) ç­‰ã€‚å¦‚æœä½ æƒ³ç¹¼æ‰¿ä¸€å€‹ STL containerï¼Œä½†å®ƒæ²’æœ‰ virtural destructorï¼Œè«‹åƒè¬ä¸è¦å˜—è©¦ç¹¼æ‰¿å®ƒ! é€™åªæœƒå¸¶ä¾†ç½é›£ã€‚\n\n## æƒ³è¦ä¸€å€‹æŠ½è±¡é¡å—\næƒ³è¦ä¸€å€‹æŠ½è±¡é¡ï¼Œå»è‹¦æ–¼æ²’æœ‰äººé¸(function)ã€Œè¢« virturalã€? è€ƒæ…® Destructor å§: [[Pure Virtual Destructor]]\n\n\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/%E8%A7%A3%E6%A7%8B%E5%BC%8F%E8%88%87%E7%95%B0%E5%B8%B8":{"title":"è§£æ§‹å¼èˆ‡ç•°å¸¸","content":"\n## æƒ…å¢ƒ: ç•¶Destructor å¿…é ˆåŸ·è¡ŒæŸé …æœƒä¸ŸException çš„ç¨‹åº\nèˆ‰ä¾‹ï¼Œæˆ‘å€‘æœ‰ä¸€å€‹è³‡æ–™åº«é€£ç·šçš„ class `DBConnection`ï¼Œé€™é¡è³‡æºç®¡ç†çš„ Class åœ¨ [[Chapter3]] ä¸­æœƒæœ‰æ›´è©³ç´°çš„æ¢è¨ã€‚\n```cpp\nclass DBConnection {\npublic:\n...\nstatic DBConnection create();   // function to return DBConnection objects; params omitted for simplicity\nvoid close(); \n// close connection; throw an exception if closing fails\n};  \n```\n\n\n### ç›´æ¥ Catch Exception\nç‚ºäº†é˜²æ­¢ client æ²’æœ‰ close connection å°±ç›´æ¥åˆªé™¤ç‰©ä»¶ï¼Œæˆ‘å€‘éœ€è¦åœ¨ destructor å‘¼å« `close`ï¼Œç„¶è€Œé€™å€‹ function æœ‰ä¸Ÿå‡º exception çš„é¢¨éšªã€‚\næœ‰å…©ç¨®åšæ³•å¯ä»¥ç°¡å–®çš„è§£æ±º\n1. ä½¿ç”¨ `std::abort` æå‰ä¸­æ­¢ç¨‹å¼ï¼Œå®ƒå¯ä»¥æ¶åœ¨ Exception å‚³å‡ºå»ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯ Undefined Behavior å‚³å‡ºå»ä¹‹å‰ï¼Œå¼·è¿«ç¨‹å¼çµæŸã€‚\n\t```cpp\nDBConn::~DBConn() {\n\ttry { db.close(); }\n\tcatch (...) {\n\t\t// make log entry that the call to close failed;\n\t\tstd::abort();\n\t}\n}\n\t```\n2. åä¸‹ç•°å¸¸ã€‚ä¸€èˆ¬ä¾†èªªï¼Œé€™æ˜¯å€‹å£ä¸»æ„ï¼Œå®ƒæŠ‘åˆ¶äº†éŒ¯èª¤è¢«çŸ¥é“çš„æ©Ÿæœƒã€‚\n\t```cpp\nDBConn::~DBConn() {\n\ttry { db.close(); }\n\tcatch (...) {\n\t\t// make log entry that the call to close failed;\n\t}\n}\n\t```\n\nå“ªç¨®æ–¹æ³•å¥½ï¼Œç«¯çœ‹æƒ…å¢ƒå¦‚ä½•å–æ¨ã€‚ä¸éæ­¤å…©è€…åšæ³•éƒ½ä¸æ˜¯æ ¹æœ¬è§£æ±ºä¹‹é“ã€‚\n\n## è§£æ±ºæ–¹æ³•: è®“ Cilent è‡ªå·±æ¥ä½ Exception\næ›´å¥½çš„åšæ³•æ˜¯é‡æ–°è¨­è¨ˆ Interfaceï¼Œè®“ client ç«¯è‡ªå·± `close`ï¼Œå° Exception åšåæ‡‰ã€‚ä¸¦åœ¨ destructor ç•¶ä¸­å†è¨­ä¸€é“ç¢ºä¿é—œé–‰çš„é›™é‡ä¿éšœ -- å¦‚æœå®¢æˆ¶é‚„æ˜¯å¿˜äº†é—œï¼Œå†è®“ destructor å‹•æ‰‹å§! \n\n\n## è³ªç–‘\n- è½‰ç§»è²¬ä»»åˆ° Client èº«ä¸Šçš„å«Œç–‘? ä¸¦æ²’æœ‰ï¼Œå› ç‚º destructor ä¸­ä¹Ÿæ˜¯æœ‰ä¸€é“ Checkã€‚\n- é•å[[è®“ä»‹é¢å®¹æ˜“è¢«ä½¿ç”¨]]? \n\nå¦‚æœæŸå€‹æ“ä½œæœ‰ raise exception çš„é¢¨éšªï¼Œåˆå¿…é ˆè™•ç†è©² exceptionï¼Œé€™å€‹ç•°å¸¸å¿…é ˆä¾†è‡ª destructor ä¹‹å¤–çš„æŸå€‹ function (æ­¤ä¾‹: ä¾†è‡ª `close`)ï¼Œè€Œé€™æœ‰è®“ client ç«¯æ¥æ‰‹çš„å¿…è¦æ€§ï¼Œå°‡å®ƒè½‰ç§»å‡º destructor èƒ½é¿å… undefined behavior çš„ç™¼ç”Ÿæœ‰æ›´å¤§çš„åƒ¹å€¼ã€‚\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/%E8%A8%AD%E8%A8%88%E6%96%B0-Class-%E7%9A%84%E6%BA%96%E5%89%87":{"title":"è¨­è¨ˆæ–° Class çš„æº–å‰‡","content":"åœ¨è¨­è¨ˆ class ä¹‹å‰ï¼Œæ€è€ƒä»¥ä¸‹å•é¡Œ\n- è¨˜æ†¶é«”å¦‚ä½•ç”¢ç”Ÿè·ŸéŠ·æ¯€? (åƒè¦‹ç¬¬å…«ç« )\n- ç‰©ä»¶åˆå§‹åŒ–èˆ‡è³¦å€¼çš„å·®åˆ¥? Constructor \u0026 Assignment\n\t-  [[Effective C++ Outline#æ¢æ¬¾4 ç¢ºå®šç‰©ä»¶åœ¨ä½¿ç”¨å‰å·²ç¶“åˆå§‹åŒ– |æ¢æ¬¾4 ç¢ºå®šç‰©ä»¶åœ¨ä½¿ç”¨å‰å·²ç¶“åˆå§‹åŒ–]]\n- Pass by value å°å®ƒä»£è¡¨ç”šéº¼? Copy constructor\n- Member data çš„åˆæ³•å€¼?\n\t- åœ¨ä¸ç®¡æ˜¯ constructor, assignment, setter function åœ¨è¨­ data æ™‚ï¼Œéƒ½éœ€è¦é€²è¡ŒéŒ¯èª¤æª¢æŸ¥ã€‚\n\t- é€™æ„å‘³è‘—ä½ éœ€è¦è€ƒé‡å‡½å¼æ‹‹å‡ºçš„æ„å¤–ã€‚\n- å®ƒéœ€è¦é…åˆæŸå€‹ç¹¼æ‰¿åœ–ç³»(inheritance graph) å—?\n\t- æœƒå—åˆ°çˆ¶è¼©å€‘çš„ç´„æŸï¼Œç‰¹åˆ¥æ˜¯å‡½å¼æ˜¯ virtural or non-virtual [[Item34 Differentiate between inheritance of interface and inheritance of implementation]]ã€[[Item36 Never redefine an inherited non-virtual function]]ã€‚\n\t- å¦‚æœå…è¨±å…¶ä»–é¡åˆ¥ç¹¼æ‰¿æ­¤ classï¼Œè«‹å°‡å¿…è¦çš„å‡½å¼å®£å‘Šç‚º virtualï¼Œç‰¹åˆ¥æ˜¯ destructorã€‚\n\t\t- [[Effective C++ Outline#æ¢æ¬¾7 ç‚ºå¤šå‹ç”¨é€”çš„åŸºç¤é¡åˆ¥å®£å‘Š virtual è§£æ§‹å¼|æ¢æ¬¾7 ç‚ºå¤šå‹ç”¨é€”çš„åŸºç¤é¡åˆ¥å®£å‘Š virtual è§£æ§‹å¼]]\n- éœ€è¦è€ƒé‡è½‰æ›å—? éš±æ€§è½‰æ›èˆ‡é¡¯æ€§è½‰æ›?\n- ç”šéº¼é‹ç®—å­èˆ‡å‡½å¼å°æ­¤æ–°é¡åˆ¥å¼åˆç†çš„?\n\t- [[Item23 Prefer non-member non-friend functions to member functions]]\n\t- [[Item24 Declare non-member functions when type conversions should apply to all parameters]]\n\t- [[Item26 Postpone variable definitions as long as possible]]\n- ä»€éº¼æ¨™æº–å®£å‘Šå¼æ˜¯éœ€è¦é§å›çš„? è«‹ç”¨ `delete` æ˜ç¢ºåˆªé™¤å®ƒã€‚\n- å“ªäº› member éœ€è¦æš´éœ²å‡ºä¾†? (public/private/protected)\n- ä»€éº¼æ˜¯å®ƒçš„æœªå®£å‘Šä»‹é¢(undeclared interface)?\n\t- é€™æˆ‘çœ‹ä¸æ‡‚ã€‚\n- é€™å€‹æ–°çš„ class æœ‰å¤šä¸€èˆ¬åŒ–? è‹¥è¦å®šç¾©çš„æ˜¯ type family (ä¸€å † type) ï¼Œæ˜¯å¦è©²æ¡ç”¨ class template?\n- ","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/%E8%AE%93%E4%BB%8B%E9%9D%A2%E5%AE%B9%E6%98%93%E8%A2%AB%E4%BD%BF%E7%94%A8":{"title":"Item 18 Make interfaces easy to use correctly and hard to use incorrectly","content":"\n## ç”¨ `struct` åŒ…è¦†ç°¡å–®çš„è³‡æ–™çµæ§‹å¯ä»¥å¸¶ä¾†å¯è®€æ€§\n\nè€ƒé‡ä¸‹é¢çš„ä¾‹å­: \n\n```cpp\nclass Date {\npublic:\n\tDate(int month, int day, int year);\n}\nDate(3, 31, 1999); // æ­£ç¢º\nDate(30, 3, 1999); // å¯èƒ½æœƒèª¤æ‰“\nDate(3, 40, 1999); // å¯èƒ½æœ‰ç„¡æ•ˆå€¼\n```\n\nå¦‚æœæˆ‘å€‘æ”¹ä»¥ `struct`å¦‚ä¸‹ï¼Œä½ å¹¾ä¹ä¸æœƒçŠ¯ä¸‹å¯«éŒ¯æ ¼çš„éŒ¯ï¼ŒCompiler æœƒè‡ªå‹•æé†’! ç”šè‡³å¯ä»¥åœ¨ Struct å…§ç°¡å–®çš„åšæ•¸å€¼æª¢é©—ã€‚\n\n```cpp\nstruct Month;\nstruct Day;\nstruct Year;\n\nclass Date {\npublic:\n\tDate(Month m, Day d, Year y);\n}\n\nDate(Month(3), Day(31), Year(1999)); // æ­£ç¢º\nDate(Day(3), Month(31), Year(1999)); // å‹åˆ¥éŒ¯èª¤\n```\n\n\n## ä»¥å‡½å¼å–ä»£ç‰©ä»¶\n\nåƒæ˜¯æœˆä»½é€™æ¨£æœ‰ä¸€å®šçš„ç¯„åœï¼Œç”šè‡³å¯ä»¥ç›´æ¥åˆ—èˆ‰ 12 æœˆä»½ï¼ŒClient ç«¯é€éä»‹é¢å¾—åˆ°æœˆä»½ç‰©ä»¶ï¼Œå¹¾ä¹æ²’æœ‰éŒ¯èª¤æ•¸å€¼çš„å•é¡Œ!!\n\né¡ä¼¼ç”¨æ³•å¯ä»¥åƒè¦‹ [[Static Object]] ç•¶ä¸­çš„ non-local static object åˆå§‹åŒ–å•é¡Œã€‚\n\n```cpp\nclass Month {\npublic:\n\tstatic Month Jan() {return Month(1)};\n\tstatic Month Feb() {return Month(2)};\n\t...\nprivate:\n\texplicit Month(int m);\n}\nDate(Month::Jan(), Day(30), Year(1999));\n```\n\n## å’Œå…§å»ºå‹åˆ¥çš„è¡Œç‚ºä¸€è‡´ï¼Œä¸è¦ææ€ª\n\nç•¶æœ‰å’Œ STL lib ç›¸ä¼¼çš„å±¬æ€§æ™‚ï¼Œç›¡é‡ç”¨ä¸€æ¨£çš„å½¢å¼ã€‚\n\n## ä»»ä½•ä»‹é¢å¦‚æœæœ‰è¦æ±‚å®¢æˆ¶ã€Œè¨˜å¾—åšã€æŸä»¶äº‹ï¼Œå°±æœ‰ã€Œä¸æ­£ç¢ºä½¿ç”¨ã€çš„å‚¾å‘ï¼Œå› ç‚ºå®¢æˆ¶å¯èƒ½æœƒå¿˜è¨˜ã€‚\n\nä¾‹å¦‚: æ¯”èµ·å›å‚³ä¸€å€‹ raw pointer ä¸¦æœŸè¨±å®¢æˆ¶ç«¯è¨˜å¾—åˆªé™¤è¨˜æ†¶é«”ï¼Œå›å‚³ smart pointer èƒ½è§£æ±ºå•é¡Œã€‚\n\né˜²ç¯„å®¢æˆ¶ç«¯å¯èƒ½ç™¼ç”Ÿçš„éŒ¯èª¤æ˜¯æœ‰ä»£åƒ¹çš„ï¼Œåƒæ˜¯ Shared pointerï¼Œå®ƒæ¯”åŸæœ¬çš„é«”ç©æ›´å¤§ã€ä¸”æ›´æ…¢ã€‚ä½†åœ¨è¨±å¤šç¨‹å¼ä¸­é€™äº›æˆæœ¬çš„å½±éŸ¿ä¸¦ä¸é¡¯è‘—ï¼Œé˜²ç¯„å®¢æˆ¶ç«¯æ„šè ¢è¡Œç‚ºå¸¶ä¾†çš„ç›Šè™•å»æ¥µç‚ºé¡¯è‘—ã€‚\n\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/%E8%AE%93%E4%BB%8B%E9%9D%A2%E6%98%93%E6%96%BC%E8%A2%AB%E4%BD%BF%E7%94%A8":{"title":"è®“ä»‹é¢æ˜“æ–¼è¢«ä½¿ç”¨","content":"## Return Const Value\né¿å…å›å‚³å€¼è¢«ä¿®æ”¹ï¼Œå¦‚æ­¤ä¾‹ä¸­ï¼Œé¡åˆ¥ `Rational` (æœ‰ç†æ•¸) çš„ä¹˜ç©ç¬¦è™Ÿç¦æ­¢å…¶å›å‚³å€¼è¢«è³¦äºˆå€¼ (assignment)ã€‚\n\n```cpp\nclass Rational { ... }; \nconst Rational operator*(const Rational\u0026 lhs, const Rational\u0026 rhs);\n```\n\nè½èµ·ä¾†æœ‰é»æ€ªï¼Œä½†å®ƒå¯ä»¥é é˜² client ç«¯å¯«å‡ºé€™ç¨® code: \n```cpp\nRational a, b, c;\n(a*b) = c;\n\nif (a*b = c) { ... };\n```\n\næˆ‘æƒ³ï¼Œä½œè€…çš„èˆ‰é€™å€‹ä¾‹å­æœ‰ Defensive programming çš„æ¦‚å¿µåœ¨ã€‚å¦‚è‹¥é€™äº›è®Šæ•¸æ˜¯å…§å»ºå‹åˆ¥ (ex. int)ï¼Œé€™ç¨®å¯«æ³•ç›´æ¥å°±æœƒè¢«æ“‹æ‰ã€‚ä½†åƒæ­¤ä¾‹ï¼Œå®ƒå€‘æ˜¯ User-defined çš„å‹åˆ¥ï¼Œå°æ–¼è¨­è¨ˆ class çš„ designer è€Œè¨€ï¼Œæœ€å¥½å°‡é€™ç¨®ç„¡æ„ç¾©çš„è¡Œç‚ºæ“‹æ‰ã€‚","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Const-in-C++":{"title":"Const in C++","content":"\n#### Const Iterator\nåŒç†ä¸Šè¿°ï¼Œå®£å‘Šä¸€å€‹ iterator ç‚º `const` è¡¨ç¤ºé€™å€‹ iterator ä¸èƒ½æ”¹è®ŠæŒ‡å‘çš„å°è±¡ï¼Œä½†æ˜¯æŒ‡å‘çš„å°è±¡ä¹‹å…§å®¹æœ¬èº«å¯ä»¥è®Šã€‚ \n```cpp\nconst std::vector\u003cint\u003e::iterator iter = vec.bgein();\n```\nå¦‚æœæƒ³è¦æŒ‡å‘ä¸€å€‹ä¸å¯è¢«æ”¹è®Šå…§å®¹çš„ç‰©ä»¶ï¼Œéœ€è¦ä½¿ç”¨ `const_iterator`\n```cpp\nstd::vector\u003cint\u003e::const_iterator citer = vec.bgein();\n```\n\n#### Return Const Value\n[[è®“ä»‹é¢æ˜“æ–¼è¢«ä½¿ç”¨]]\n\n#### Const member function\n[[Const member function]]\n\n#### Const Argument\nåœ¨çœŸå¯¦çš„ç¨‹å¼è¨­è¨ˆä¸­ï¼Œæ¯”è¼ƒå¤šç”¨æ–¼ function argument æ˜¯ const pointer / const referecneã€‚\nå¦‚ä¸‹ä¾‹: `print` function å®šç¾©äº†ä¸€å€‹ const reference çš„ argumentï¼Œç•¶å®ƒåœ¨èª¿ç”¨ operator `[]` çš„æ™‚å€™ï¼Œå°±æœƒç”¨åˆ°ä¸Šé¢çš„ APIã€‚ä¸”å®šç¾© const return value å¯ä»¥é¿å…éŒ¯èª¤çš„å¯«å…¥å€¼ï¼Œé”æˆ const object çš„ç›®çš„ã€‚\n```cpp\nvoid print(const TextBlock\u0026 ctb) // in this function, ctb is const \n{ \n\tstd::cout \u003c\u003c ctb[0]; // calls const TextBlock::operator[] \n\tctb[1] = 'x';        // raise error!!!\n}\n```\n\n#### æ‰“ç ´ Constness é™åˆ¶\nå‰é¢èªªçš„æ˜¯å°æ–¼ Client ç«¯ï¼Œæˆ‘å€‘é ˆä¿æŒè³‡æ–™çš„ä¸å¯è®Šå‹•æ€§ã€‚\n\nç„¶è€Œåœ¨é¡åˆ¥å…§éƒ¨çš„è¨­è¨ˆä¸­ï¼ŒåŸºæ–¼ç¶­è­·æ€§ã€æˆ–æŸäº›ç†å¿µï¼Œæˆ‘å€‘å¸Œæœ›å®ƒä¸è¦é‚£éº¼æ­»æ¿ï¼Œæ¯”èµ· Compiler æ‰€å …æŒçš„ Constnessï¼Œæˆ–è¨±é‚è¼¯ä¸Šçš„ Constness æ›´åŠ é‡è¦ã€‚æ¥ä¸‹ä¾†ï¼Œå°‡èªªæ˜ Compiler èªçŸ¥ Constness ç‚ºä½• ï¼Œèˆ‡å¦‚ä½•ã€Œéƒ¨åˆ†çš„ã€æ‰“ç ´ Const é™åˆ¶ã€‚\n[[æ‰“ç ´ Constness é™åˆ¶]]\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Const-member-function":{"title":"Const member function","content":"\n\u003e The purpose of const on member functions is to identify which member functions may be invoked on const object.\n\nä½¿ Interface æ„åœ–æ›´åŠ æ¸…æ¥šï¼Œæœ‰å…©å€‹é‡è¦çš„å„ªé»\n1. å¯çŸ¥é“å“ªå€‹ function æœƒæ›´å‹•åˆ°ç‰©ä»¶\n2. æ”¹å–„ C++ ç¨‹å¼æ•ˆç‡èˆ‡ \"pass by reference to const\" æ¯æ¯ç›¸é—œï¼Œä½¿ function å¯æ“ä½œ Const Object ã€‚\n\nç›´æ¥çœ‹ä¾‹å­: æˆ‘å€‘å®šç¾©äº†å¦‚ä¸‹çš„ Interfaceã€‚\n\n```cpp\nclass TextBlock\n{\npublic:\n\t// operator[] for const objects\n\tconst char\u0026 operator[](std::size_t position) const\n\t{ return text[position]; }\n\t\n\t// operator[] for non-const objects\n\tchar\u0026 operator[](std::size_t position) \n\t{ return text[position]; }\nprivate:\n\tstd::string text;\n};\n```\n\nåœ¨ Client ç«¯ï¼Œ`const TextBlock` èˆ‡ `TextBlock` ç‰©ä»¶æœƒ call åˆ°çš„  `TextBlock::operator[]` **æ˜¯ä¸åŒçš„**!! æœ‰å®£å‘Š Interface çš„ç¬¬ä¸€æ¢ (const function)ï¼Œæ‰æœ‰è¾¦æ³•æ“ä½œ `const TextBlock` çš„ç‰©ä»¶ã€‚\n```cpp\nconst TextBlock ctb(\"World\");\nstd::cout \u003c\u003c ctb[0]; // calls const TextBlock::operator[]\n\nTextBlock tb(\"Hello\");\nstd::cout \u003c\u003c tb[0]; // calls non-const TextBlock::operator[]\n```\n\n\n\u003e [!question] \n\u003e å¦‚æœå®£å‘Š Const ä½†æ˜¯ä¸å®šç¾© const TextBlock æœƒæ€æ¨£?\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Copying-Function":{"title":"Copying Function","content":"\n\u003e Effective C++ ä¸­ï¼ŒCopying Function æŒ‡çš„æ˜¯ Copy construcot \u0026 Copy Assignment\n\n1. ç•¶ Programmer è‡ªå·±å®šç¾© Copying function æ™‚ï¼ŒCompiler ä¸æœƒè­¦å‘Šä½ å‡ºéŒ¯!\n2. åœ¨ç¹¼æ‰¿çš„æ¶æ§‹ä¸­\n\t1. ä¸åªå±¬æ–¼ Child Class çš„ member data è¦å…¨éƒ¨ copy\n\t2. é‚„è¦è¨˜å¾— call Parent Class çš„ copying functionã€‚\n\n\t```cpp\n// Copy Construcotr \nPriorityCustomer::PriorityCustomer(const PriorityCustomer\u0026 rhs)\n: Customer(rhs), // invoke base class copy ctor\npriority(rhs.priority)\n{\n\tlogCall(\"PriorityCustomer copy constructor\");\n}\n\n// Copy Assignment\nPriorityCustomer\u0026\nPriorityCustomer::operator=(const PriorityCustomer\u0026 rhs)\n{\n\tlogCall(\"PriorityCustomer copy assignment operator\");\n\tCustomer::operator=(rhs); // assign base class parts\n\tpriority = rhs.priority;\n\treturn *this;\n}\n\n\t```\n3. Copy Constructor èˆ‡ Copy Assignment ä¸æ‡‰è©² Call å½¼æ­¤ï¼Œå¦‚æœæœ‰ Reusable Codeï¼Œæ‡‰è©²å¦å¤–æŠ½ä¸€å€‹ private function å»å…±ç”¨ã€‚","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp","tofix"]},"/notes/Project/Effective-C++-Series/Default-Generated-Functions":{"title":"Default Generated Functions","content":"\n```cpp\nclass Empty; // you declare, but implement nothing. \n\n// Compiler silently create.\nclass Empty {\npublic:\n\nÂ  Â  Empty() { ... } // default constructor\nÂ  Â  Empty(const Empty\u0026 rhs) { ... } // copy constructor\nÂ  Â  ~Empty() { ... } // destructor â€” see below for whether it's virtual\nÂ  Â  Empty\u0026 operator=(const Empty\u0026 rhs) { ... } // copy assignment operator\n}\n\nEmpty e1;      // default constructor\n\t\t\t   // destructor\nEmpty e2(e1);  // copy constructor\ne2 = e1;       // copy assignment\n```\n\n\n- Default constructor (without parameter) \u0026 destructor\n\t- çµ¦ç·¨è­¯å™¨æ”¾ä¸€äº›å–šèµ· base class, non-static member data constructor \u0026 destructor çš„åœ°æ–¹ã€‚\n\t- Compiler ç”Ÿæˆçš„ destructor æ˜¯ä¸€å€‹ non-virtural\n\t  [[ç‚ºå¤šå‹ç”¨é€”çš„åŸºç¤é¡åˆ¥å®£å‘Š virtual è§£æ§‹å¼]]\n\t- åªè¦æœ‰å®£å‘Š Constructorï¼Œç·¨è­¯å™¨å°±ä¸æœƒå¹«æˆ‘å€‘å¤šæ› default constructor ä¸Šå»ã€‚\n- Copy Constructor \u0026 Copy Assignment: å°‡ source ç‰©ä»¶çš„æ¯ä¸€å€‹ non-static member data copy éå»ã€‚\n\n## Default Copy Assignment\nå„˜ç®¡ Copy Assignment `operator=` ä¹Ÿå¯ä»¥è‡ªå‹•ç”Ÿæˆï¼Œå»æ˜¯æœ‰æ¢ä»¶çš„è‡ªå‹•ç”Ÿæˆï¼Œåªæœ‰ç•¶è‡ªå‹•ç”Ÿæˆçš„ä»£ç¢¼åˆæ³•æ™‚æ‰æœƒç”Ÿæˆã€‚\n\nä½† default copy assignment å¸¸å¾ˆæœ‰æ©Ÿæœƒè®Šå¾—å¹¾ä¹ç„¡ç”¨æ­¦ä¹‹åœ°ã€‚\n1. ç•¶ User-defined Class æœ‰ member data æ˜¯ Reference æˆ– `const`ï¼Œè‡ªå‹•ç”Ÿæˆçš„ code æœƒä¸åˆæ³•ã€‚\n2. ç•¶ base class æŠŠ copy assignment å®£å‘Šæˆ privateï¼Œcompiler ç„¡æ³•å–šèµ· parent çš„ private functionï¼Œç›´æ¥è£æ­»ã€‚\n\nåœ¨ C++ ç•¶ä¸­ï¼Œä¸€æ—¦ Reference è¢«å®£å‘Šï¼Œæ˜¯ä¸å…è¨±æ”¹æŒ‡å‘ä¸åŒç‰©ä»¶çš„ï¼Œè€Œ Compiler æ›´ä¸æœƒè‡ªå‹•å»ä¿®æ”¹ \"è¢« Reference ç‰©ä»¶\" çš„å…§å®¹ã€‚é€™ç¨®æƒ…æ³ï¼ŒCompiler æœƒç›´æ¥æ‹’çµ•ç”Ÿæˆ Copy assignmentã€‚\nå¦‚æœæƒ³è®“ä¸€å€‹æœ‰ reference member data çš„ class æœ‰ Copy assignmentï¼Œéœ€è¦è‡ªè¡Œå¯¦ä½œã€‚ç›¸ä¼¼çš„ï¼Œæ›´æ”¹ `const` æˆå“¡æ˜¯ä¸åˆæ³•çš„ï¼Œéœ€è‡ªè¡Œå¯¦ä½œã€‚","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/Deleted-Function":{"title":"Deleted Function","content":"\n\n```cpp\nclass A{    \npublic:\n  A(int x) : m(x) {}\n  A\u0026 operator = (const A \u0026) = delete;  // Declare the copy assignment operator\n                                       // as a deleted function.\n  A(const A\u0026) = delete;                // Declare the copy constructor\n                                       // as a deleted function.\n\nprivate:\n  int m;\n};\n\nint main(){\n  A a1(1), a2(2), a3(3);\n  a1 = a2;     // Error, the usage of the copy assignment operator is disabled.\n  a3 = A(a2);  // Error, the usage of the copy constructor is disabled.\n}\n```\n\n\n## èˆŠçš„åšæ³•\nä»¥ C++11 ç‚ºåˆ†æ°´å¶ºï¼ŒC++98 åªèƒ½é€éå®£å‘Š private è—ä½ä¸è¦ Compiler ç”Ÿæˆçš„ functionã€‚\nç¢ºå¯¦ client code æœƒç„¡æ³•å‘¼å«ã€‚ä½†é€™ä¸¦ä¸çµ•å°å®‰å…¨ï¼Œå› ç‚º member function è·Ÿ frient function é‚„æ˜¯å¯ä»¥å‘¼å« private functionã€‚æ›´å®‰å…¨çš„åšæ³•æ˜¯ï¼Œå®£å‘Š private å¾Œæ•…æ„ä¸å¯¦ä½œã€‚\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/Do-not-Declare-Virtural-Function-in-Non-polymorphic-Base-Class":{"title":"Do not Declare Virtural Function in Non-polymorphic Base Class","content":"\n\u003e ç„¡ç«¯å°‡ä¸è©²æ“æœ‰ `virtual` çš„ class å®£å‘Š virtualï¼Œèˆ‡ç„¡ç«¯å°‡æ‰€æœ‰çš„ function å®£å‘Šæˆ virtualï¼Œéƒ½æ˜¯æœ‰æ¯’çš„ã€‚ \n\nç•¶é¡åˆ¥ä¸ä½œç‚º Base Classï¼Œæˆ–æ˜¯ä¸ä½œç‚ºå¤šå‹æ™‚çš„åŸºæœ¬ Class æ™‚ï¼Œä¸æ‡‰è©²ä½¿ç”¨ virtualã€‚\nåŸå› æ˜¯ï¼Œ`virtual` èƒŒå¾Œæ˜¯ä»¥ vptr (virtual table pointer) å’Œ vtbl (virtual table) å¯¦ä½œ virtualï¼Œéœ€è¦è€—è²»é¡å¤–çš„è¨˜æ†¶é«”ã€‚\n1. å°‡ä¸èƒ½æŠŠè³‡æ–™çµæ§‹å¼å‚³çµ¦å…¶ä»–èªè¨€ (C, FORTRAN) æ’°å¯«çš„ functionï¼Œå› ç‚ºå®ƒå€‘æ²’æœ‰ vptr çš„å°æ‡‰å…§å®¹\n2. å¢åŠ ç‰©ä»¶å¤§å°ï¼Œæ›¸ä¸­èˆ‰ä¾‹ä¸€å€‹ `Point` ç‰©ä»¶ï¼Œå…¶ä¸­æ“æœ‰å…©å€‹ int (64bits, in 32 bits system)ï¼Œå¢åŠ ä¸€å€‹ `virtual` (ä¸€å€‹ vptr) å°‡ä½¿ memory é”åˆ° 96 bitsï¼Œç›¸ç•¶å…¶ç‰©ä»¶å¤§å°çš„ 50%ï¼Œåœ¨ 64bits system ç”šè‡³é”åˆ°å¢åŠ  100%ã€‚\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Effective-C++-Outline":{"title":"Effective C++ Outline","content":"## Chapter 1\n\n### æ¢æ¬¾1 C++ æ˜¯ä¸€å€‹èªè¨€è¯é‚¦\nC++ èåˆäº†å¤šç¨®å½¢å¼çš„ programming æ‰‹æ³•ï¼Œç‰©ä»¶å°å‘ã€proceduralã€genericã€metaprogrammingã€functional...ã€‚\n\n### æ¢æ¬¾2 ç›¡é‡ä»¥ `const` , `enum`, `inline` å–ä»£ `#define`\n- ä»¥ const, enum, inline å–ä»£ `#define`ï¼Œ å¯§å¯ä»¥ç·¨è­¯å™¨ (compiler) å–ä»£å‰è™•ç†å™¨ (pre-processor)ã€‚ \n- å°æ–¼å–®ç´”çš„å¸¸æ•¸ï¼Œä»¥ `const` æˆ– `enum` å–ä»£\n- å°æ–¼å½¢ä¼¼ function çš„å·¨é›†(macro)ï¼Œç”¨ `inline` å–ä»£ã€‚\n#### Const\n- [[Replace define with const]]\n- [[The definition and declaration of static const]] P14\n#### Enum\n- [[enum hack]]\n#### Inline\n\n\n### æ¢æ¬¾3 ç›¡å¯èƒ½ä½¿ç”¨ const\nç›¡å¯èƒ½çš„ä½¿ç”¨Â `const`ï¼Œå®ƒå¯ä»¥ç¢ºä¿ç‰©ä»¶ä¸è¢«æ”¹è®Šã€‚ç‰¹åˆ¥æ˜¯ custom class designer æ›´åŠ éœ€è¦æ³¨æ„ operator çš„ constnessã€‚\n\n- `const` åœ¨æ˜Ÿè™Ÿå·¦é‚Š: è¢« point çš„ç‰©ä»¶æ˜¯å¸¸æ•¸\n- `const` åœ¨æ˜Ÿè™Ÿå³é‚Š: pointer è‡ªèº«æ˜¯å¸¸æ•¸\n```c++\nchar greeting[] = \"Hello\";\nchar* p greeting;\n\nconst char* p = gretting; // non-const ptr, const data\nchar const* p = gretting; // same \n\nchar* const p = greeting; // const ptr, non-const data\nconst char* const p = greeting; // const ptr, const data\n```\n\nç•¶ `const` åœ¨ `*` å‰ï¼Œä¸ç®¡æ˜¯å…ˆå¯« const ä¿®é£¾çš„é¡ã€æˆ–æ˜¯å…ˆå¯« const éƒ½æ˜¯ä¸€æ¨£çš„ï¼Œå°±æ˜¯åœ¨ä¿®é£¾ `char` ç‰©ä»¶å…·æœ‰å¸¸æ•¸æ€§ã€‚\n[[Const in C++]]\n\n\n### æ¢æ¬¾4 ç¢ºå®šç‰©ä»¶åœ¨ä½¿ç”¨å‰å·²ç¶“åˆå§‹åŒ–\nä¸æ˜¯æ‰€æœ‰çš„ç‰©ä»¶å®£å‘Šæ™‚è‡ªå¸¶åˆå§‹åŒ–ï¼Œå®ƒçš„è¦å‰‡éæ–¼è¤‡é›œï¼Œåªéœ€è¦è¬¹è¨˜: å®£å‘Šæ™‚å°±è¦åˆå§‹åŒ–!\n(é€šå¸¸æ˜¯ C-style çš„ï¼Œåƒæ˜¯ array ä¸ä¿è­‰æœƒç™¼ç”Ÿåˆå§‹åŒ–)ï¼Œè€Œ non-C part çš„ (like `std::vector`) æœ‰å…¶ä»–è¦å‰‡ï¼Œå°±è‡ªå¸¶åˆå§‹åŒ–)\n\nå°æ–¼å…§å»ºå‹åˆ¥ (int, char, double)ï¼Œåˆå§‹åŒ–å°±æ˜¯æ‰‹å‹•çµ¦å€¼ã€‚å°æ–¼å…§å»ºå‹åˆ¥ä¹‹å¤–çš„ï¼Œå‰‡è¦å¯« constructorã€‚\n\nç‚ºäº†é¿å…æ²’æœ‰åˆå§‹åŒ–å¸¶ä¾†çš„ä¸ç¢ºå®šæ€§ï¼Œç¢ºä¿ä¸‰ä»¶äº‹\n1. å°æ–¼ä¸æ˜¯ member data çš„ built-in type objectï¼Œæ‰‹å‹•åˆå§‹åŒ–ã€‚C++ ä¸¦ä¸ä¿è­‰æœƒåˆå§‹åŒ–æ‰€æœ‰çš„ Built-in type Object (ex. array)ã€‚\n2. å°æ–¼ Custom Classï¼Œä½¿ç”¨ [[Member Initialization List]] åˆå§‹åŒ– member dataã€‚åŸå› åƒè¦‹ [[Identify Initialization and Assignment]]\n3. è‹¥åˆå§‹åŒ–é †åºå…·æœ‰ä¸ç¢ºå®šæ€§ï¼Œæƒ³è¾¦æ³•åŠ å¼· designï¼Œç¢ºä¿ä¸æœƒç™¼ç”Ÿ circle (å…©å€‹è®Šæ•¸ç›¸äº’ä¾è³´) æˆ–ç«¶é€Ÿå•é¡Œã€‚\n4. ç•¶ static object ä¹‹é–“æœ‰ä¾è³´é—œä¿‚æ™‚ï¼Œlocal static objects å‹é non-local static objectsã€‚åƒè¦‹ [[Static Object]]\n\n## Chapter2 å»ºæ§‹ã€è§£æ§‹ã€è³¦å€¼é‹ç®—\n\n### æ¢æ¬¾5 äº†è§£ C++é»˜é»˜ç·¨å¯«ä¸¦å‘¼å«å“ªäº›å‡½å¼\nç•¶æˆ‘å€‘å®£å‘Šäº†ä¸€å€‹ Classï¼Œè€Œä¸å»å¯¦è¸ä»»ä½•ç´°ç¯€ï¼ŒCompiler æœƒå·å·åœ°å¹«æˆ‘å€‘ç”Ÿæˆä¸€äº› functionï¼Œä»–å€‘åˆ†åˆ¥æ˜¯\n- default constructor, destructor\n- copy constructor, copy assignment\nä¸”éƒ½æ˜¯ public inline function - [[Item30 Understand the ins and outs of inlining]]\n\næ›´ç¢ºåˆ‡ä¾†èªªï¼Œæ˜¯ç•¶é€™äº› function è¢«éœ€è¦ (è¢«å‘¼å«) æ™‚ç”¢ç”Ÿã€‚\n[[Default Generated Functions]]\n\n### æ¢æ¬¾6 æ˜ç¢ºæ‹’çµ•ä¸è¦ç·¨è­¯å™¨è‡ªå‹•ç”Ÿæˆçš„å‡½å¼\nåœ¨ C++11 å¼•å…¥äº†æ–°çš„æ¦‚å¿µ [Deleted functions](https://www.ibm.com/docs/en/zos/2.4.0?topic=definitions-deleted-functions-c11)ï¼Œæ›¸ä¸­æ•™çš„æ–¹æ³•ä¾ç„¶æœ‰å…¶å£è™•ã€‚ç›´æ¥åœ¨ declaration å¾Œé¢æ¥è‘— `=delete` å°±å¯ä»¥é˜»æ­¢ copmiler ç”Ÿæˆå®ƒã€‚\n\n```cpp\nA(const A\u0026) = delete;\n```\n\n[[Deleted Function]]\n\n### æ¢æ¬¾7 ç‚ºå¤šå‹ç”¨é€”çš„åŸºç¤é¡åˆ¥å®£å‘Š virtual è§£æ§‹å¼\nç”³æ˜ï¼Œé€™æ¢è¦å‰‡**åªé‡å°**å¤šå‹çš„ Base Class\n- é¦–å…ˆå°±å…ˆèªªæ˜å¤šå‹çš„ç”¨æ„: [[ç‚ºå¤šå‹ç”¨é€”çš„åŸºç¤é¡åˆ¥å®£å‘Š virtual è§£æ§‹å¼]]\n\n### æ¢æ¬¾8 ä¸è®“ç•°å¸¸é€ƒé›¢è§£æ§‹å¼\nC++ ä¸æœƒç¦æ­¢ Exception ç™¼ç”Ÿæ–¼ Destructorï¼Œä½†é€™éº¼åšå…·æœ‰ç›¸ç•¶çš„é¢¨éšªã€‚ä¸€æ—¦ Exception ç™¼ç”Ÿè€Œè·³å‡ºäº† Destructorï¼Œæœƒä¸­æ­¢éŠ·æ¯€ç‰©ä»¶çš„ç¨‹åºã€‚\nç‰¹åˆ¥æ˜¯ STL Container æˆ– Array é€™ç¨®è³‡æ–™çµæ§‹ä¸­ï¼Œè‹¥å‰é¢æœ‰æŸå€‹ element åœ¨éŠ·æ¯€éç¨‹ä¸­ thorw Exception ä½¿å¾— Container çš„ Destructor è¢«ä¸­æ–·ï¼Œå‰‡å¾Œé¢çš„ elements æœ‰å¯èƒ½ä¸è¢«éŠ·æ¯€ï¼Œè€Œå°è‡´è¨˜æ†¶é«”æ´©æ¼! \n\n[[è§£æ§‹å¼èˆ‡ç•°å¸¸]]\n\n### æ¢æ¬¾9 ä¸åœ¨å»ºæ§‹èˆ‡è§£æ§‹ä¸­å‘¼å« virtual å‡½å¼\n\nä¸è¦åœ¨ Constructor èˆ‡ Destructor ä¸­å‘¼å« virtural å‡½å¼ã€‚é€™å’Œ Java èˆ‡ C# ä¸åŒ!!!\n\n[[Virtual Function]]\n\n\n### æ¢æ¬¾10 è®“ operator= å›å‚³è‡ªèº«çš„ reference\nè®“ `operator=`, `operator+=` ç­‰ assignment ç¬¦è™Ÿå›å‚³è‡ªèº«çš„ Referenceã€‚\né€™æ˜¯ä¸€é …å”è­°ï¼Œä¸¦éå¼·åˆ¶è¦å®šã€‚ä½†åœ¨ STL æä¾›çš„å‹åˆ¥ï¼Œæˆ–æ˜¯å³å°‡ support çš„ type ([[Item54 Familiarize yourself with the standard library including TR1]])ï¼Œéƒ½æœƒéµå®ˆé€™å€‹å”å®šï¼Œè«‹å¾çœ¾ã€‚\n\n### æ¢æ¬¾11 åœ¨ operator= è™•ç†è‡ªæˆ‘è³¦å€¼\n\nåœ¨æ’°å¯« `operator=` æ™‚ï¼Œéœ€è¦è€ƒé‡ç•¶ `rhs==this` çš„ç‹€æ³ã€‚\nå³ä½¿ä¸æ˜¯å¦‚ä¸‹é¢çš„æ–¹å¼ handle è‡ªæˆ‘è³¦å€¼ï¼Œè¨˜ä½ï¼Œä¸è¦è®“é€™å€‹å‡½å¼ raise exception (exception safety) å°±å°äº†ã€‚\n\n```cpp\nWidget\u0026 Widget::operator=(const Widget\u0026 rhs)\n{\n\tif (this == \u0026rhs) return *this; // assignment to self\n\tdelete pb;\n\tpb = new Bitmap(*rhs.pb);\n\treturn *this;\n}\n```\n\n### æ¢æ¬¾12 è¤‡è£½ç‰©ä»¶æ™‚è¨˜å¾—æ¯ä¸€å€‹éƒ¨åˆ†\n\nç•¶ Programmer è‡ªå·±å®šç¾© [[Copying function]] æ™‚ï¼ŒCompiler ä¸æœƒè­¦å‘Šä½ å‡ºéŒ¯! ä½ éœ€è¦è‡ªå·±æ³¨æ„!!\n\n## Chapter3 è³‡æºç®¡ç†\n\n### æ¢æ¬¾13 ä½¿ç”¨è³‡æºç®¡ç†å™¨\n\n- è³‡æºå–å¾—çš„æ™‚æ©Ÿå°±æ˜¯åˆå§‹åŒ–çš„æ™‚æ©Ÿ (Resource Acquisition Is Initialization, [RAII](https://zh.wikipedia.org/zh-tw/RAII))\n- [[Smart Pointer]] æ˜¯å€‹å¥½é¸æ“‡\n\n### æ¢æ¬¾14 ä»”ç´°è€ƒæ…®è³‡æºç®¡ç†é¡åˆ¥çš„ Copy è¡Œç‚º\n\n- æœ‰äº›è³‡æºä¸¦ä¸æ˜¯ Heap-based Resourceï¼Œå°±ä¸ä¸€å®šé©åˆ auto_ptrã€‚\n- æ›¸ä¸­ä»¥ Mutex (äº’æ–¥é–) èˆ‰ä¾‹ã€‚\n\n\u003e [!Todo]\n\u003e æŸ¥ä¸€æŸ¥ RAIIï¼Œé€™æ•´å€‹ç« ç¯€æˆ‘çœ‹ä¸å¤ªæ‡‚ã€‚\n\n\n\u003e [!question]\n\u003e (æ­¤è™•æ˜¯èˆŠç‰ˆï¼Œæ–°ç‰ˆæœ‰å°æ‡‰çš„æ±è¥¿å—?\n\n### æ¢æ¬¾15 åœ¨è³‡æºç®¡ç†é¡ä¸­æä¾›å°åŸå§‹è³‡æºçš„å­˜å–\n\nå„˜ç®¡ä½¿ç”¨ [[Smart Pointer]] ç®¡ç†è³‡æºå¾ˆæ–¹ä¾¿ï¼Œæˆ‘å€‘ä»æœ‰æ©Ÿæœƒéœ€è¦å–å¾—åŸå§‹çš„ Pointerã€‚Smart Pointer åŒæ™‚æœ‰æä¾›é¡¯ç¤ºä»‹é¢ (explicit) èˆ‡éš±å¼ä»‹é¢: \n- explicit : ä»¥ `get` å–å¾— Raw Pointerã€‚\n- implicit : `operator*`, `operator-\u003e`ã€‚\n\n### æ¢æ¬¾16 æˆå°çš„ä½¿ç”¨ `new` å’Œ `delete` ä¸¦æ¡ç”¨ç›¸åŒå‹å¼\n1. ç›¡å¯èƒ½ä¸è¦ç”¨ C-style Array\n2. STLæ‰€æä¾›çš„ vector, string ç­‰ templates å¯ä»¥é™ä½å° Array çš„éœ€æ±‚ï¼Œæ¸›å°‘éŒ¯èª¤çš„ç™¼ç”Ÿã€‚\n\n\n### æ¢æ¬¾17 ä»¥ç¨ç«‹çš„èªå¥å°‡ç‰©ä»¶æ”¾å…¥ Smart Pointer\n\n```c++\nstd::shared_ptr\u003cWidget\u003e pw(new Widget);\nprocessWidget(pw, priority());\n```\n\n[[ç‚ºä»€éº¼è¦ç”¨ç¨ç«‹å¥å°‡ç‰©ä»¶æ”¾å…¥ Smart Pointer]]\n\n## Chapter 4 è¨­è¨ˆèˆ‡å®£å‘Š\n### æ¢æ¬¾18 è®“ä»‹é¢å®¹æ˜“è¢«ä½¿ç”¨ã€é˜²ç¯„èª¤ç”¨\n\n[[è®“ä»‹é¢å®¹æ˜“è¢«ä½¿ç”¨]]\n\n### æ¢æ¬¾19 è¨­è¨ˆ Class çŒ¶å¦‚è¨­è¨ˆ Type\nè¨­è¨ˆ Class è«‹éµå®ˆæº–å‰‡æƒ³éä¸€é: [[è¨­è¨ˆæ–° Class çš„æº–å‰‡]]\n\n### æ¢æ¬¾20 ä»¥ Pass by const ref å–ä»£ Pass by value \n\nåˆç†çš„ Pass by value å¹¾ä¹åªæœ‰ä¸‹é¢ä¸‰ç¨®é¸æ“‡\n1. å…§å»ºå‹æ…‹\n2. STL Iterator \n3. Function Object\n\né™¤æ­¤ä¹‹å¤–ï¼ŒåŒ…å« STL Container æ‡‰ç›¡å¯èƒ½ç”¨ Pass by const reference !\n- [[æ€ç¶­èª¤å€-ç‰©ä»¶å¾ˆå°å°±å¯ä»¥ Pass By Value]]\n\n### æ¢æ¬¾21 ç•¶å¿…é ˆå›å‚³ç‰©ä»¶æ™‚ï¼Œä¸è¦è€ƒæ…®å›å‚³ Reference \n\nçµ•å°ä¸è¦\n 1. å°‡ Pointer æˆ– Reference æŒ‡å‘ä¸€å€‹ local ç‰©ä»¶å›å‚³ã€‚\n 2. è®“ Reference æŒ‡å‘ heap-based object (`new`)\n 3. ç•¶è¨­è¨ˆå‡ºã€Œå›å‚³ ptr/ref æŒ‡å‘ local staticã€ï¼Œä¸¦ä¸”æœ‰å¾ˆå¤šå€‹ç‰©ä»¶éƒ½æ¡ç”¨é€™ç¨®å½¢å¼æ™‚æé«˜è­¦è¦ºï¼Œå¾ˆæœ‰å¯èƒ½èµ°å…¥äº† Bad designã€‚å°æ–¼æ€éº¼æ¨£æ˜¯ã€Œåˆç†ã€ä½¿ç”¨ Local static object : åƒè¦‹ [[Static Object]]ã€‚\n\n\n### æ¢æ¬¾22 å°‡æˆå“¡è®Šæ•¸å®£å‘Šæˆ Private\n\n- åªæä¾›å¿…è¦çš„ Getter çµ¦å®¢æˆ¶ç«¯ï¼Œéš±è—ä½ çš„å¯¦ä½œæœ‰çµ•ä½³çš„å¥½è™•ã€‚\n\næ€ç¶­èª¤å€: Protected ä¸æ¯” Public å…·æœ‰æ›´å¥½çš„å°è£æ€§\n- å–æ¶ˆä¸€å€‹ Public Member Data çš„æˆæœ¬: æ‰€æœ‰ä½¿ç”¨ä»–çš„å®¢æˆ¶ç«¯\n- å–æ¶ˆä¸€å€‹ Protected Member Data çš„æˆæœ¬ : æ‰€æœ‰ç¹¼æ‰¿ä»–çš„ Derived Class\né€™å…©ç¨® Access Level çš„å°è£æ€§éƒ½ä¸ä½³ï¼Œä»è©²ç›¡å¯èƒ½çš„ä½¿ç”¨ Privateã€‚\n\n### æ¢æ¬¾23 å¯§ä»¥non-member, non-friendæ›¿æ› memberå‡½æ•¸\n[[Item23 Prefer non-member non-friend functions to member functions]]\n\n\n\n### æ¢æ¬¾24 å¦‚æœæ‰€æœ‰çš„åƒæ•¸éƒ½éœ€è¦å‹åˆ¥è½‰æ›ï¼Œè«‹ç‚ºæ­¤æ¡ç”¨ non-member å‡½å¼\n[[Item24 Declare non-member functions when type conversions should apply to all parameters]]\n\n\n### æ¢æ¬¾25 è€ƒæ…®å¯«å‡ºä¸€å€‹ä¸æ‹‹ç•°å¸¸çš„ Swap å‡½å¼\n\n\n## Ch5 Implementation\n\n### æ¢æ¬¾26 ç›¡å¯èƒ½å»¶å¾Œè®Šæ•¸å®šç¾©å¼çš„å‡ºç¾æ™‚é–“\n[[Item26 Postpone variable definitions as long as possible]]\n\n### æ¢æ¬¾2\n\n### æ¢æ¬¾2\n\n\n\n\n\n\nç°¡é«”ç›®éŒ„: https://blog.csdn.net/weixin_45926547/article/details/121276226\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Identify-Initialization-and-Assignment":{"title":"Identify Initialization and Assignment","content":"\n\u003e C++ è¦å®šï¼Œmember data initialization ç™¼ç”Ÿåœ¨**é€²å…¥ Constructor ä¹‹å‰**ã€‚åœ¨ Constructor è³¦å€¼å±¬æ–¼ assignmentã€‚ æ­£ç¢ºçš„ initialization æ˜¯ä½¿ç”¨ member initialization list (æˆå“¡åˆå€¼åˆ—)ï¼Œå–ä»£è³¦å€¼ (assignment)ã€‚\n\næ­¤ä¾‹ä¸­ï¼Œç¬¬ä¸€ç¨®çš„åšæ³•æ•ˆç‡å¥½: \n- ç¬¬ä¸€ç¨®ä½œæ³•ä½¿ç”¨  member initialization list æ˜¯å° member data åš Copy Constructã€‚\n- ç¬¬äºŒç¨®ä½œæ³• `m_name`æœƒéš±å«çš„ call ä¸€æ¬¡ `std::string` çš„ default constructorï¼Œå†ä»¥ Copy assignment è¢«è³¦äºˆå€¼\n\n```cpp\nclass Book {\nÂ  Â  private:\nÂ  Â  Â  Â  std::string m_name;\nÂ  Â  public:\nÂ  Â  Â  Â  // good way\nÂ  Â  Â  Â  Book(const std::string\u0026 name): m_name { // copy construct\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  // bad way\nÂ  Â  Â  Â  Book(const std::string\u0026 name) {\nÂ  Â  Â  Â  Â  Â  m_name = name; Â // copy assignment\nÂ  Â  Â  Â  }\n}\n```\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Implicit-TemplateInstantiation":{"title":"Implicit TemplateInstantiation","content":"\u003e Occurs when a template is used to declare a pointer variable or a variable with the provided arguments","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Item23-Prefer-non-member-non-friend-functions-to-member-functions":{"title":"Item23 Prefer non-member non-friend functions to member functions","content":"ç‰©ä»¶å°å‘è¦æ±‚ï¼Œè³‡æ–™(data) ä»¥åŠæ“ä½œè³‡æ–™çš„å‡½å¼æ‡‰è©²ç›¡é‡ç¶åœ¨ä¸€èµ·ï¼Œä¸ä»£è¡¨ç‰©ä»¶å°å‘æ¨å´‡ member function æ˜¯æ¯”è¼ƒå¥½çš„é¸æ“‡ã€‚\n\nç‰©ä»¶å°å‘è¦æ±‚è³‡æ–™æ‡‰è©²ç›¡å¯èƒ½åœ°è¢«å°è£ï¼Œèˆ‡ç›´è§€ç›¸åçš„ï¼Œnon-member function çš„å°è£æ€§å„ªæ–¼  member functionã€‚ç‚ºä»€éº¼? \n\n## å°è£\n\nç‚ºä»€éº¼å°è£è¢«æ¨å´‡? \n\u003e å°è£ä½¿å¾—æˆ‘å€‘åœ¨æ”¹è®Šäº‹ç‰©æ™‚ï¼Œåªå½±éŸ¿æœ‰é™çš„å®¢æˆ¶ã€‚\n\n- è¢«å°è£çš„æ±è¥¿è®Šå¾—ä¸å¯è¦‹ -\u003e è¶Šå¤šå°è£å°±è¶Šå°‘ client å¯ä»¥ access -\u003e å°å¯¦ä½œæ–¹è€Œè¨€ï¼Œæœ‰æ›´å¤§çš„å½ˆæ€§æ”¹è®Šå®ƒï¼Œå› ç‚ºèƒ½ access å®ƒçš„å®¢æˆ¶æœ‰é™ï¼Œæ”¹è®Šçš„å½±éŸ¿åŠ›å°ã€‚\n\n### å¦‚ä½•è¡¡é‡å°è£ç¨‹åº¦\né€™å€‹å•å¥å¯ä»¥æ›å¥è©±èªªï¼Œå¦‚ä½•é‡æ¸¬ã€Œæœ‰å¤šå°‘ function å¯ä»¥çœ‹åˆ°æŸä¸€å¡Šè³‡æ–™?ã€ã€‚\n\n\u003e è¨ˆç®—èƒ½å¤ å­˜å–è©²è³‡æ–™çš„å‡½å¼ï¼Œè¶Šå¤šå‡½å¼å­˜å–å‰‡å°è£åº¦è¶Šä½ã€‚\n\nå°æ–¼ Private Member data è€Œè¨€ï¼Œèƒ½å­˜å–å®ƒçš„å°±æ˜¯æ‰€æœ‰çš„ member functionã€‚","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/Item24-Declare-non-member-functions-when-type-conversions-should-apply-to-all-parameters":{"title":"Item24 Declare non-member functions when type conversions should apply to all parameters","content":"\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/Item26-Postpone-variable-definitions-as-long-as-possible":{"title":"Item26 Postpone variable definitions as long as possible","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/Item28-Avoid-returning-handles-to-object-internals":{"title":"Item28 Avoid returning handles to object internals","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["empty"]},"/notes/Project/Effective-C++-Series/Item30-Understand-the-ins-and-outs-of-inlining":{"title":"Item30 Understand the ins and outs of inlining","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["empty"]},"/notes/Project/Effective-C++-Series/Item47-Use-traits-classes-for-information-about-types":{"title":"Item47 Use traits classes for information about types","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["empty"]},"/notes/Project/Effective-C++-Series/Item54-Familiarize-yourself-with-the-standard-library-including-TR1":{"title":"Item54 Familiarize yourself with the standard library including TR1","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["empty"]},"/notes/Project/Effective-C++-Series/Item55-Familiarize-yourself-with-Boost":{"title":"Item55 Familiarize yourself with Boost","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["empty"]},"/notes/Project/Effective-C++-Series/Member-Initialization-List":{"title":"Member Initialization List","content":"\n\u003e ç„¡è«–å¦‚ä½•ï¼Œä½¿ç”¨ member initializer list å° member data åˆå§‹åŒ–æ˜¯æœ€å¥½çš„ã€‚å„˜ç®¡é€™éº¼åšå°å…§å»ºå‹åˆ¥çš„è³‡æ–™æ²’å·®ï¼Œå°éå…§å»ºå‹åˆ¥å»æœ‰å·¨å¤§çš„æ„ç¾©ã€‚\n\nå¦‚æœä½ å°±æ˜¯æƒ³è¦ call member data çš„ default constructorï¼Œä¾ç„¶å¯ä»¥é€é member initializer list é”æˆã€‚åªè¦çµ¦äºˆç©ºæ‹¬è™Ÿï¼Œä¸å¡«å…§å®¹å³å¯ã€‚\né€™æ¨£çš„å¥½è™•æ˜¯æ˜ç™½åœ°åˆ—å‡ºæ‰€æœ‰ member dataï¼Œé¿å…æœ‰ data å¿˜è¨˜çµ¦åˆå§‹å€¼ï¼Œç‰¹åˆ¥æ˜¯å°**éå…§å»ºå‹åˆ¥**çš„member dataï¼Œæ²’æœ‰åˆå§‹åŒ–çš„çµæœæ˜¯ç½é›£çš„ã€‚\n\nå°æ–¼å…§å»ºå‹åˆ¥çš„ Reference \u0026 constï¼Œä»–å€‘**ä¸èƒ½è¢«è³¦å€¼**ï¼Œ**å¿…é ˆé€é member initializer list åˆå§‹åŒ–**ã€‚\n- Related: [[Item5 Know What Functions C++ Silently Writes and Calls]]\n\n## åˆç†çš„ä½¿ç”¨ Assignment\næŸäº›æ™‚å€™ï¼Œé¡åˆ¥æ“æœ‰å¤šå€‹ Constructorï¼Œæ¯å€‹ Constructor éƒ½éœ€è¦æœ‰è‡ªå·±çš„ Member initializer listï¼Œé€™åˆæœƒå°è‡´ dumplicatedã€‚\né€™æ™‚å€™å¯ä»¥æ˜¯ç•¶åœ°å°‡ä¸€äº› Assignment å’Œ Initialize æ•ˆç‡å·®ä¸å¤šçš„ member data (é€šå¸¸æ˜¯å…§å»ºå‹åˆ¥)ï¼Œç§»åˆ°ä¸€å€‹ \"çµ±ä¸€åˆå§‹åŒ–\" çš„ private functionï¼Œä¾›æ‰€æœ‰çš„ Constructor å‘¼å«ã€‚\né€™ç¨®ä½œæ³• (pseudo-initialization, å½åˆå§‹åŒ–) ç‰¹åˆ¥åœ¨æ•¸å€¼æ˜¯ç”±è®€æª”å¾—åˆ°çš„æ™‚å€™ç‰¹åˆ¥æœ‰ç”¨ï¼Œä½†å¯ä»¥çš„è©±ï¼Œç›¡å¯èƒ½ä½¿ç”¨ member initializer listã€‚\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Pure-Virtual-Destructor":{"title":"Pure Virtual Destructor","content":"ç¾åœ¨çš„æƒ…å¢ƒæ˜¯ï¼Œå¦‚æœï¼Œä½ æƒ³è¦æœ‰ä¸€å€‹æŠ½è±¡é¡ -- æŠ½è±¡é¡çš„å¥½è™•æ˜¯è‡ªèº«ç„¡æ³•è¢«å¯¦ä¾‹åŒ–ã€‚ç„¶è€Œï¼ŒæŠ½è±¡é¡çš„å®šç¾©æ˜¯ï¼Œè‡³å°‘æœ‰ä¸€å€‹ function æ˜¯ Pure Virtural Functionã€‚è©²é¸æ“‡ \"èª°\" æˆç‚º Pure virtural function å‘¢? æ´½å·§æ‰‹ä¸Šæ²’æœ‰é©åˆçš„äººé¸! Destructor æœƒæ˜¯å€‹å¥½é¸æ“‡ã€‚å› ç‚º\n1. Abstract Class ç¸½æ˜¯è¢«ç•¶ä½œ Base Class\n2. Base Class ä½œç‚ºå¤šå‹ç”¨é€”æ™‚ï¼Œæ‡‰ç•¶å¸¶æœ‰ virtural destructor\n3. Pure Virtural Function å¯ä½¿è©² Class å½¢æˆ Abstract\nä¸‰å€‹é»ä¸²èµ·ä¾†--ã€Œè®“ destructor è®Šæˆ Pure Virtural å§ã€ï¼Œé€™æ¨£ä¸æœƒæœ‰ä¸è©²è¢« virtural çš„ function é­æ®ƒ! \n\n\u003e Abstruct Class æ˜¯ä¸èƒ½è¢«å¯¦ä¾‹åŒ–çš„ Classï¼Œä½†å¯ä»¥æŒæœ‰ Abstruct Class çš„ Pointer å»æ“æ§ Child instanceã€‚\n\nä¸éé ˆè¨˜å¾—ä¸€å€‹æŠ€å·§ -- ä¾ç„¶ç‚ºé€™å€‹ Base Class çš„ Destructor æä¾›ä¸€å€‹ç©ºçš„å¯¦ä½œã€‚\né€™æ˜¯å› ç‚º Destructor çš„é‹ä½œè¦å‰‡ï¼Œåœ¨ç¹¼æ‰¿æ¶æ§‹ä¸­ï¼Œmost derived class (æœ€ child çš„) çš„ destructor æœƒæœ€å…ˆè¢«å‘¼å«ï¼Œæ¥è‘—æ˜¯æ¯ä¸€å€‹ Base Class çš„ Destructorã€‚å³ä½¿ `AWOV` ä½œç‚ºæŠ½è±¡é¡æ²’æœ‰å¯¦ä¾‹åŒ–çš„å•é¡Œï¼Œå…¶ destructor ä¾ç„¶æœƒè¢«å‘¼å«ï¼Œæ‰€ä»¥éœ€è¦æä¾›ä¸€å€‹ç©ºçš„å¯¦ä½œï¼ŒLinker (ç·¨è­¯å™¨çš„ä¸€éƒ¨åˆ†?) æœƒå ±éŒ¯ã€‚\n```cpp\nclass AWOV {\npublic:\n\tvirtural ~AWOV() = 0;\n}\n\nAWOV::~AWOV() {}; // ä¾ç„¶ç‚ºå®ƒæä¾›ä¸€å€‹å¯¦ä½œ\n```\n\n ","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Replace-define-with-const":{"title":"Replace define with const","content":"\n## ä»¥ç·¨è­¯å™¨å–ä»£å‰è™•ç†å™¨\n\n `#define` çš„æœ¬è³ªæ˜¯ word replacementï¼Œå¦‚: `#define RATIO 1.653`ï¼Œç·¨è­¯å™¨å¯èƒ½ä¸èªå¾— `RATIO` ä¸¦åœ¨éŒ¯èª¤è¨Šæ¯ä¸­å¾é ­åˆ°å°¾ä»¥ 1.653 å–ä»£ `RATIO`ã€‚\n```cpp\n const double Ratio=1.653; // Prefer\n```\n\nç•¶ä»¥ `const` å–ä»£ `#define` æ™‚ï¼Œæœ‰å…©å€‹éœ€è¦æ³¨æ„çš„é»\n1. å®šç¾©å¸¸æ•¸æŒ‡æ¨™ (const pointer): å¸¸æ•¸æŒ‡æ¨™ç”¨æ–¼ ã€Œä¸å…è¨±æ­¤Pointeræ›´æ”¹æŒ‡å‘çš„å°è±¡ã€ï¼Œå› æ­¤éœ€è¦å° pointer å®£å‘Š const\n\n```cpp\nconst std::string = authorName(\"Scott\");\n ```\n\n2. Class çš„å°ˆå±¬å¸¸æ•¸: ç›®çš„æ˜¯é™åˆ¶å¸¸æ•¸çš„ Scopeï¼Œå› æ­¤è¦å®£å‘Šåœ¨ class å…§éƒ¨ã€‚è€Œç‚ºäº†ä½¿é€™å€‹å¸¸æ•¸åªæœ‰ä¸€å€‹å¯¦é«”(æ‰€æœ‰ instance å…±äº«åŒä¸€å€‹å¸¸æ•¸)ï¼Œé‚„éœ€è¦å®£å‘Š `static`ã€‚\n\n```cpp\nclass Player {\nprivate:\n\tstatic const int num = 5;\n\tint scores[num];\n}\n ``` \n\n\n## å…·æœ‰ Access Level\nç¬¬äºŒé»çš„ç”¨é€”ï¼Œè¨­ç½®ä¸€å€‹åœ¨æŸç‰¹å®šé¡åˆ¥æ‰ç”Ÿæ•ˆçš„å¸¸æ•¸è®Šæ˜¯ `#define` åšä¸åˆ°çš„ï¼Œ`#deinfe` ä¸åœ¨ä¹ scopeï¼Œä¸èƒ½å¸¶ä¾†å°è£æ€§ï¼Œæ›´æ²’æœ‰ `private #deinfe` é€™ç¨®æ±è¥¿ã€‚\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Singleton":{"title":"Singleton","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["empty"]},"/notes/Project/Effective-C++-Series/Smart-Pointer":{"title":"Smart Pointer","content":"åœ¨[[ç‚ºå¤šå‹ç”¨é€”çš„åŸºç¤é¡åˆ¥å®£å‘Š virtual è§£æ§‹å¼]]æ–‡ç« ä¸­çš„ `TimeKeeper` ä¾‹å­ï¼Œæˆ‘å€‘æåŠäº†å·¥å» å‡½å¼ (factory function)ï¼Œåœ¨è©²ä¾‹å­ï¼Œæˆ‘å€‘æŠŠ delete `new` resource çš„è²¬ä»»äº¤çµ¦ Clientã€‚\n\nç„¶è€Œæœ‰å¾ˆå¤šæƒ…æ³--ä¾‹å¦‚ main flow ä¸­éæ—©çš„ returnï¼Œresource å¯èƒ½æ²’æœ‰æˆåŠŸè¢«éŠ·æ¯€ã€‚å–„ç”¨ Pointer-like ç‰©ä»¶ï¼Œä¸¦æŠŠéŠ·æ¯€è³‡æºçš„æ“ä½œ**ç¢ºå¯¦**çš„å¯«åœ¨ Destructor ä¸­å¯ä»¥é¿å…é€™äº›å•é¡Œã€‚\n\nSmart Pointer çš„åŸç†æ˜¯åˆ©ç”¨ä¸€å€‹ object å» own (or manage, ç®¡ç†) ä¸€å€‹ heap-based çš„è³‡æºï¼Œç•¶ Smart Pointer Object è„«é›¢ Scopeï¼ŒCompiler è©¦åœ–å» destructor æ™‚ï¼Œè—‰æ©Ÿå‘¼å«æ‰‹ä¸Š Object çš„ destructorã€‚\n\n## Smart Pointer ç•¶ä¸­çš„é¡¯å¼èˆ‡éš±å¼è½‰æ›\n1. Smart Pointer çš„ `get` function æ˜¯ä¸€ç¨®é¡¯å¼è½‰æ› (explicit)ï¼Œå…è¨± client å–å¾—åŸå§‹ç‰©ä»¶çš„åŸå§‹å‹åˆ¥æŒ‡æ¨™ã€‚\n2. Smart Pointer Override äº† `operation*` å’Œ `operator-\u003e`ï¼Œå› æ­¤ client ç«¯å¯ä»¥ç›´æ¥å°å®ƒåšæŒ‡æ¨™æ“ä½œï¼Œæœ‰å¦‚å°å¾… raw pointerï¼Œé€™éš±å«çš„æ˜¯éš±å¼è½‰æ› (implicit)\n\n## é¡¯å¼/éš±å¼è½‰æ›ä»‹é¢\nå¦‚ä¸Šè¿°ï¼Œ `get` function æ˜¯ä¸€ç¨®é¡¯å¼è½‰æ› (explicit)ï¼Œå®ƒçš„å„ªé»æ˜¯ä½¿ç”¨æ™‚æ„åœ–æ¸…æ¥šï¼Œç¼ºé»æ˜¯å¾ˆé†œã€‚\nå…¶å¯¦ï¼Œäº¦å¯ä»¥æä¾›å€‹éš±å¼è½‰æ›çš„ä»‹é¢ï¼Œå¦‚æ­¤ç•¶é€™å€‹ç‰©ä»¶è¢«æ”¾åˆ° base resource çš„é¡åˆ¥æ™‚ï¼Œå°±ä¸ç”¨ç‰¹åˆ¥é€é `get` æå– base resourceï¼Œç¼ºé»æ˜¯æœƒæå‡ç™¼ç”ŸéŒ¯èª¤çš„é¢¨éšªã€‚\n\né¸æ“‡ä½•ç¨®ï¼Œå–æ±ºæ–¼ä½¿ç”¨æƒ…å¢ƒï¼Œè¨˜ä½ [[è®“ä»‹é¢å®¹æ˜“è¢«ä½¿ç”¨]]ï¼Œä¸è¦è®“ä½ çš„ä»‹é¢å®¹æ˜“è¢«èª¤ç”¨ï¼Œå³å¯ã€‚","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/Static-Object":{"title":"Static Object","content":"\n\u003e å£½å‘½å¾è¢«å»ºæ§‹å‡ºä¾†ï¼ŒæŒçºŒåˆ°ç¨‹å¼çµæŸç‚ºæ­¢ã€‚\n\nå› æ­¤ Stack å’Œ Heap-based ç‰©ä»¶éƒ½ä¸æ˜¯ static objectã€‚\né€™ç¨®ç‰©ä»¶åŒ…å« Global Objectï¼Œå®šç¾©åœ¨ Namespace Scope çš„ç‰©ä»¶ï¼ŒClass \u0026 Function \u0026 File å…§å®£å‘Šæˆ `static` çš„ç‰©ä»¶ã€‚\n- Function å…§çš„ static object ç¨±ç‚º local static object (Scope åªåœ¨ function å…§)\n- å…¶ä»–è¢«ç¨±ç‚º non-local static object\nå®ƒå€‘çš„ deconstructor æœƒåœ¨ main çµæŸæ™‚è¢«å–šèµ·ã€‚\n\nç•¶æˆ‘å€‘æœ‰å…©å€‹ç·¨è­¯å–®å…ƒ ([[Translation Unit]])ï¼Œé€šå¸¸è¡¨ç¤ºå…©ä»½ Source Codeã€‚å…©ä»½ Source Code ä¸­éƒ½æœ‰ non-local static objectï¼Œä¸”å…¶ä¸­ä¸€ä»½ static object çš„åˆå§‹åŒ–éœ€è¦ä½¿ç”¨åˆ°å¦ä¸€ä»½ source code çš„ static objectã€‚\n\nå•é¡Œåœ¨æ–¼ï¼Œæœ‰å¯èƒ½è¦è¢«ä½¿ç”¨çš„é‚£å€‹ç‰©ä»¶å°šæœªè¢«åˆå§‹åŒ–! \n\u003e C++ å°æ–¼ä¸åŒ [[Translation Unit]] ä¸­ non-local Static object åˆå§‹åŒ–çš„é †åºä¸¦æ²’æœ‰æ˜ç¢ºçš„å®šç¾©ã€‚\n\u003e The relative order of initialization of non-local static objects defined in different translation units is undefined.\n\né€™æ˜¯æœ‰åŸå› çš„ï¼Œå› ç‚ºæ±ºå®šé€™å€‹é †åºéå¸¸å›°é›£ï¼Œè¿‘ä¹ç„¡è§£ï¼Œç”šè‡³ä¸å€¼å¾—å»æ‰¾è§£ã€‚\n\né€™ç¨®å•é¡Œå¸¸è¦‹æ–¼[[Implicit TemplateInstantiation]] æ¨¡æ¿éš±å¼å…·ç¾åŒ–ã€‚ (? ä¸ç¢ºå®šç¿»è­¯)\n\n## Make Non-local Static Object become Local Static Object\n\n\u003e C++ ä¿è­‰ï¼Œå‡½å¼å…§çš„ Local static object æœƒåœ¨è©²å‡½å¼è¢«å‘¼å«æœŸé–“ï¼Œé¦–æ¬¡é‡åˆ°è©²ç‰©ä»¶çš„å®šç¾©å¼æ™‚åˆå§‹åŒ–ã€‚\n\næˆ‘å€‘å¯ä»¥åˆ©ç”¨æ­¤åŸå‰‡ï¼Œè§£æ±º dependency of 2 non-local static object in 2 different translated units çš„å•é¡Œã€‚\n\n\u003e å°‡æ¯å€‹ non-local static object æ¬åˆ°å°ˆå±¬çš„ function å…§ï¼Œä»¥ local static object çš„æ–¹å¼å­˜åœ¨ã€‚Design Pattern ä¸­çš„ [[Singleton]] å°±å¼å¸¸è¦‹çš„å¯¦ä½œæ–¹å¼ã€‚\n\nå…¶åŸç†åœ¨æ–¼ï¼Œæ‰€ä»¥æ¯”èµ·ç›´æ¥å‘¼å« non-local static objectï¼Œä½¿ç”¨ function call çš„åšæ³•æ›´ä½³ã€‚æ›´æ£’çš„æ˜¯ï¼Œè‹¥ä½ å¾æœªå‘¼å«ã€Œæ¨¡æ“¬è©² non-local static object çš„ functionã€ï¼Œå‰‡ ã€Œé‚£å€‹ object ã€æ ¹æœ¬**ä¸æœƒåˆå§‹åŒ–**ï¼Œæœ‰å»¶é²åˆå§‹åŒ–çš„åŠŸæ•ˆåœ¨! é€™æ˜¯çœŸæ­£çš„ non-local static object æ‰€ä¸èƒ½åŠçš„ã€‚\n\n`static` å¯ä»¥ç¢ºä¿å”¯ä¸€æ€§ï¼ŒSingleton æœ¬èº«å°±å¸¸å¸¸èˆ‡ Static æ­é…ä½¿ç”¨ã€‚\n\n```cpp\nclass FileSystem { ... };\n\nFileSystem\u0026 tfs()\n{\nÂ  Â  static FileSystem fs;\nÂ  Â  return fs;\n}\n\nclass Directory { ... };\nDirectory::Directory( params )\n{\nÂ  Â  std::size_t disks = tfs().numDisks();\n}  \n\n// The first call function.\nDirectory\u0026 tempDir()\n{\nÂ  Â  static Directory td( params );\nÂ  Â  return td;\n}\n```\næ­¤ç¨®æ‰‹æ³•ç¨±ç‚º reference-returningã€‚\n\nåœ¨æ­¤ä¾‹å­ä¸­ï¼Œ`tmpDir` å‰µå»ºç‰©ä»¶ `td`ï¼Œåœ¨ call `Directory` Constructor æ™‚ï¼Œæœƒå† call `tfs` ï¼Œæ­¤æ™‚æ‰å‰µå»º static object `fs`ã€‚é€é function callï¼Œç¢ºä¿äº†ç‰©ä»¶åˆå§‹åŒ–çš„é †åºï¼Œå…ˆåˆå§‹åŒ– `fs`ï¼Œå†å‰µå»º `td`ã€‚\n\n### å„ªé»\nç‰¹åˆ¥åœ¨é »ç¹å‘¼å«çš„æ™‚å€™ï¼Œæ­é… [[Item30 Understand the ins and outs of inlining]]ã€‚\n\n### ç¼ºé»\nåœ¨ multi-thread ä¸­æœ‰ä¸ç¢ºå®šæ€§ã€‚ä»»ä½•ä¸€ç¨® non-const static ç‰©ä»¶å¦‚æœ**ä¾è³´æ–¼å…¶ä»–äº‹ä»¶çš„ç™¼ç”Ÿ**ï¼Œéƒ½å¾ˆéº»ç…©ã€‚å¸¸è¦‹çš„è§£æ±ºæ–¹æ³•æ˜¯ï¼Œåœ¨ single-threaded startup portion æ‰‹å‹•å–šèµ·æ‰€æœ‰ reference-returning functionï¼Œæ‰‹å‹•è§£æ±º race conditionsã€‚\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/The-Copying-in-Pass-by-value":{"title":"The Copying in Pass by value","content":"\n## Simple Pass By Value\nè€ƒé‡ä¸‹é¢çš„ç¨‹å¼ `validateStudent(s)` åŸ·è¡Œçš„æˆæœ¬æœ‰ä»€éº¼?\n\n```cpp\nclass Person;\nclass Student: public Person;\nbool validateStudent(Student s); // pass by value = copy\nStudent s = Student();\nvalidateStudent(s); \n```\n\næˆæœ¬æ˜¯\n- Student Copy Constructor\n- Person Copy Constructor\nä¸€å€‹ Copy Ctor å°±æ„å‘³è‘—ä¸€æ¬¡å…¨éƒ¨ member data çš„ Copyï¼Œæ‰€ä»¥ data è¶Šå¤šå‘¼å«è¶Šå¤š Copy Ctor!! \n\n## å¤šå‹å‡½å¼\nç•¶ Signature æ˜¯ Parentï¼Œå‚³å…¥çš„æ˜¯ Childï¼Œæ›´ç³Ÿç³•çš„æ˜¯æœƒç™¼ç”Ÿ Slicing! åªæœ‰ `Person` éƒ¨åˆ†çš„è³‡æ–™æœƒè¢« Copyï¼Œ`Worker` çš„è³‡æ–™éƒ½è¢«åˆ‡å‰²äº†ã€‚\n\n```cpp\nclass Worker: public Person;\nbool showName(Person s);\n\nWorker w = Worker();\nshowName(w);\n```","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/The-definition-and-declaration-of-static-const":{"title":"The definition and declaration of static const","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["empty"]},"/notes/Project/Effective-C++-Series/Translation-Unit":{"title":"Translation Unit","content":"\n\u003e A translation unit is the source code giving rise to a single object file. It's basically a single source file, plus all of its `#include` files.\n\nç·¨è­¯å–®å…ƒæŒ‡: ç”¢å‡ºå–®ä¸€ç›®çš„æª” (single object file) çš„é‚£äº› source codeï¼Œé€šå¸¸æ˜¯ source code + included header file.","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["cpp"]},"/notes/Project/Effective-C++-Series/Virtual-Function":{"title":"Virtual Function","content":"\n## åœ¨ Ctor / Dtor å‘¼å« virtual function\n![[Itm10_TranscationUML.png]]\n\nåœ¨é€™è£¡ï¼ŒTranscation çš„ Constructor å‘¼å«çš„æœƒæ˜¯ `Transcation::logTranscation`ã€‚\nåˆï¼Œè©² function ç‚º Pure virtural functionï¼Œè‹¥å®ƒæ²’è¢«å®šç¾©ï¼Œå‰‡ç•¶ç·¨è­¯å™¨å‘¼å«æ™‚æœƒå¼•ç™¼éŒ¯èª¤ï¼Œè€Œè‹¥æœ‰.... å°±æœƒ Link åˆ°è©² base class functionã€‚Related: [[Item34 Differentiate between inheritance of interface and inheritance of implementation]]\nä¸€å€‹ä¸æ­£å¼çš„è¬›æ³•: Base Calss å»ºæ§‹æœŸé–“ï¼Œæ‰€å‘¼å«çš„ virtual function ä¸æ˜¯ virtual functionã€‚  \n\n\u003e [!important] \n\u003e åœ¨ Drived Class Object åŸ·è¡Œ Based Class Constructor æœŸé–“ï¼Œç‰©ä»¶çš„å‹åˆ¥å¯¦éš›ä¸Šæ˜¯ Base Classã€‚\n\né€™æ˜¯æ ¹æœ¬çš„åŸå› ï¼Œç”±æ–¼åœ¨ Based Class Constructor ç‰©ä»¶æ˜¯ Base Classï¼Œå‘¼å« Base Class çš„ function ä¹Ÿæ˜¯è‡ªç„¶çš„äº‹ã€‚\nä¸åªæ˜¯ virtual function æœƒè¢«æ±ºè­°(resolve to) è‡³ Base Classï¼Œå¦‚æœä½¿ç”¨ `dynamic_cast` (Runtime type infomation)ï¼Œä¹ŸæœƒæŠŠç‰©ä»¶è¦–ç‚º Base Class! [[Item27 Â Minimize casting]]\n\nç›¸åŒçš„å•é¡Œä¹Ÿå­˜åœ¨æ–¼ Destructorï¼Œåœ¨ Destructor ä¸­ Drived Class çš„éƒ¨åˆ†æœƒå…ˆè¢«æ¶ˆæ»…ï¼Œä¸€æ—¦é€²å…¥ Base Class Destructor ï¼ŒC++ å°±æœƒçœ‹å¾…å®ƒç‚ºä¸€å€‹ Base Classã€‚\n\n## ä»¥å‚³éåƒæ•¸çµ¦ non-virtual functionï¼Œå–ä»£ä½¿ç”¨ Virtual function\nå°‡ virtual function å¾ con/desturctor ä¸­ç§»é™¤! èªªä¾†å®¹æ˜“ï¼Œå»ä¸æ˜“å¯Ÿè¦ºã€‚Constructor å¯èƒ½ call åˆ¥çš„ functionï¼Œè€Œ virtual å¯èƒ½è—èº«åœ¨å…¶ä¸­! ä¸¦ä¸”ï¼Œå¾ˆé›£ç¢ºä¿ Child Class ä¹Ÿæœƒæœå¾é€™é …è¦å®šã€‚\n\næ›¿ä»£æ–¹æ¡ˆæ˜¯ï¼Œä½¿ç”¨ non-virtual functionï¼ŒæŠŠ Log ä»¥ string çš„æ–¹å¼å‚³çµ¦ Base Class çš„ non-virtual Log functionã€‚\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Project/Effective-C++-Series/enum-hack":{"title":"enum hack","content":"","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":["empty"]},"/notes/Resource/Books/The-Second-Brain":{"title":"æ‰“é€ ç¬¬äºŒå¤§è…¦","content":"\u003e æˆç‚ºä¸€å€‹ã€Œèƒ½å‚³é”è³‡è¨Šã€ä¸”å…·æœ‰å‡ºè‰²è©®é‡‹èƒ½åŠ›ã€çš„äºº! \n\n- Key Feature In this sentence:\n\t- Can construct infomation\n\t- Can express info effectively\n\n## CODE \n\n### C (Capture)\n\u003e å°‡è³‡è¨Šè’é›†åœ¨æ²’æœ‰é›œè¨Šçš„åœ°æ–¹ï¼Œä½ å¯ä»¥å¿ƒç„¡æ—é¨–åœ°æ‰¾åˆ°å®ƒã€‚\n\n- å³ä½¿åªæ˜¯çœ‹ä¸€çœ¼æ”¶è—ï¼Œä¹Ÿè¦æ…é¸æ”¶è—çš„åœ°æ–¹ã€‚\n- ä¸å¥½çš„åœ°æ–¹: å€‹äººä¿¡ç®±ã€FB çš„æ”¶è— (å¾ˆå®¹æ˜“è¢«ç¤¾ç¾¤å¸èµ°) ...\n- é©åˆçš„åœ°æ–¹: å±¬æ–¼è‡ªå·±çš„èŠå¤©å®¤ (Line keep)\n\n### O (Orgnize)\n\u003e ä»¥ Project åˆ†é¡ ï¼Œä¸è¦ä»¥é¡åˆ¥åˆ†é¡ã€‚\n\n- æ·ºå°è©: ä»¥ç›®çš„å°å‘åˆ†é¡ã€‚ex. ã€Œå°ˆæ³¨åŠ›å”è­°ã€çš„æ›¸æ‘˜æ‡‰è©²æ”¾åœ¨ã€Œæˆç‚ºå¿ƒç„¡æ—é¶©çš„äººã€è€Œä¸æ˜¯ã€Œå¿ƒç†å­¸ã€ã€‚\n- åƒæ˜¯æ­¸é¡åœ¨ã€Œå¿ƒç†å­¸ã€ã€æˆ–æ˜¯ã€Œå·¥ä½œç”Ÿç”¢åŠ›ã€é€™ç¨®åœ–æ›¸é¤¨å¼çš„åˆ†é¡ï¼Œä½ ä¸åˆ†çœ‹æ¨™é¡Œä¹ŸçŸ¥é“å®ƒæ˜¯å“ªä¸€é¡ï¼Œä¸éœ€è¦åšç„¡æ„ç¾©çš„åˆ†é¡ã€‚\n- æ”¾åœ¨ã€Œæˆç‚ºå¿ƒç„¡æ—é¶©çš„äººã€ï¼Œé»é€²å»é€™å€‹ç›®æ¨™ï¼Œæ­¤æ›¸æ‘˜å°±æœƒå¿«é€Ÿåœ°æµ®ç¾ä¸Šä¾†ï¼Œå‘Šè¨´ä½ å¿«ä½¿ç”¨å®ƒ! \n- çŸ¥è­˜å¿…é ˆç”¨åˆ°æ‰æœ‰ç”¨! \n\n### D (Distill, èƒå–)\n\u003e ç”¨ Bullet Point å‘Šè¨´æœªä¾†çš„ä½ ï¼Œé€™ç¯‡ç­†è¨˜åœ¨èªªä»€éº¼?\n\n- 4 å€‹å±¤æ¬¡çš„èƒå–ï¼Œæ¯ä¸€æ¬¡èƒå–ç´„ä¿ç•™ 10~20% çš„è¨Šæ¯é‡ã€‚\n- èƒå–çš„æ™‚æ©Ÿå¾ˆé‡è¦ï¼Œç„¡æ•ˆçš„èƒå–åè€Œéºå¤±é‡è¦è¨Šæ¯ã€‚\n- How to partice? Distill the note when read it once time.\n\n### E (Express, è¡¨é”)\n\u003e Any way. Deliver it, and share! \n\n\n## é‡æ¸…ç›®æ¨™: ä½ æƒ³è§£æ±ºä»€éº¼å•é¡Œ?\n\u003e Which problems do you want to resovle by The Second Brain? \n\n**è²»æ›¼: 12é“é›£é¡Œ**\nå®ƒæ‡‰è©²å…·æœ‰è½‰ç§»æ€§ï¼Œæ ¸å¿ƒç²¾ç¥ä¸è®Šï¼Œä½†é ˜åŸŸå¯èƒ½æ”¹è®Šçš„ç‰¹è³ªã€‚è¨˜å¾—é€™äº›ä½ çš„ç›®æ¨™ï¼Œç•¶è³‡è¨Šæµéä½ èº«é‚Šæ™‚ï¼Œé©—è­‰ä»–å€‘æ˜¯å¦èƒ½å¹«åŠ©ä½ è§£æ±ºé€™äº›é›£é¡Œ? If true, Capture it! \n\nMy current thinking: \n1. How to improve poor english?\n2. How to spend time \u0026 learning effectively?\n3. How to take effective note?\n4. How to debug (gdb) effective?\n\n## Capture: What Info Can put into Your Second Brain?\n\n- æ‘˜è¦! é€šå¸¸ä¸æ‡‰è¶…éåŸè³‡è¨Šé‡çš„ 1/10\n- å…·æœ‰å•Ÿç™¼æ€§çš„ï¼Œæ”¹è®Šä½ çš„æƒ³æ³•çš„ (ä¸æ‡‚ å¤ªæŠ½è±¡)\n- åœ¨æœªä¾†å¯ä»¥è¢«ä½¿ç”¨çš„ (ex. How to own a project? How to leader a team?)\n- è·Ÿä½ è‡ªèº«ç›¸é—œçš„: çè²´çš„ï¼Œä½ æƒ³æ°¸ä¹…è¨˜æ†¶çš„å›æ†¶ã€‚\n- ç›¸åã€ä¸åŒè§€é»çš„: é¿å…ä½è­‰åå·® (confirmation bias)ï¼Œå¯ä»¥ä½¿ä½ è·³è„«ç•¶å‰èªçŸ¥çš„ã€‚\n\n\u003e è¨˜ä½ï¼Œé‡æ–°æ¶ˆåŒ–éçš„è³‡è¨Šæ›´å¥½å¸æ”¶! \n\n## Organize: Where Do the Info Put?\n\nä¸ä½¿ç”¨åœ–æ›¸é¤¨å¼çš„åˆ†é¡æ³•ï¼Œä½œè€…æå‡º PARA æ–¹æ³•ï¼Œå¯ä»¥çœ‹å‡ºé‡è¦ç¨‹åº¦ä¾åºéæ¸›ã€‚äººçš„æ³¨æ„åŠ›æœ‰é™ï¼Œè«‹ç¬¬ä¸€çœ¼ï¼Œå°±çœ‹åˆ°æœ€å¯èƒ½å¹«åŠ©ä½ çš„è³‡æ–™ã€‚\n\n\u003e è®“æœ€é‡è¦çš„ä»»å‹™ã€æœ€çŸ­æœŸçš„ç›®æ¨™çš„ç›¸é—œè³‡æ–™ä¸Šï¼Œæ²’æœ‰éå¤šçš„é›œè¨Š\n\nP (Project): çŸ­æœŸä»»å‹™\n- Working project\n- Personal project (ex. blog), side project, æ¸›é‡... \n\n\nA (Area): é•·æœŸä»»å‹™ï¼Œé•·æœŸæƒ³æŒæ¡çš„ç›®æ¨™\n- å¥åº·ï¼Œä¸åŒæ–¼ project ä¸­çš„ã€Œæ¸›é‡ã€æ˜¯æ˜ç¢ºç›®æ¨™ã€æ˜¯é”æˆå¥åº·çš„æ‰‹æ®µï¼Œå¥åº·æ˜¯é•·æœŸç›®æ¨™ã€‚\n\nR (Resource): æœªä¾†æœ‰ç”¨è™•çš„\n- æœ‰èˆˆè¶£çš„æ±è¥¿ã€å—œå¥½: ç²¾æ²¹ã€å’–å•¡\n- ç ”ç©¶çš„å¯æ: effective\n- æœ‰ç”¨çš„åƒè€ƒ: travel plan\n\nA (Archive): å‚™è€Œä¸ç”¨\n- ä¸å†æœ‰èˆˆè¶£çš„\n\n\n\n## Distill èƒå–\n\n- ä¸è¦èŠ±ç›¸åŒçš„æ™‚é–“ï¼Œè™•ç†ç›¸åŒçš„åŸå§‹è³‡æ–™\n- æ‘˜è¦! ç”¨ç°¡çŸ­çš„ bullet point åˆ—å‡ºé‡é»ã€‚\n- èª¤å€: ç•¶ä¸èƒ½äº†è§£å…¶ç”¨è™•æ™‚ï¼Œä¸æ‡‰å¼·è¡Œæ¶ˆåŒ–ï¼Œå¦å‰‡é‡é»éé‡é»ã€‚\n\n\u003e My opinion: æ¯èª¿é–±å®ƒã€é–±è®€ä¸€æ¬¡ï¼Œå°±èƒå–ä¸€æ¬¡ã€‚\n\n### åƒè€ƒæ–¹æ³•: 4 å€‹å±¤æ¬¡èƒå–\n\næ¯å€‹æ­¥é©Ÿé–“æ‡‰ä¿ç•™ç´„ 10~20% çš„è³‡æ–™é‡ï¼Œå¦å‰‡ brief isn't brief.\n1. æ“·å–æ®µè½\n2. ç²—é«”å­—\n3. è¢å…‰ç­† highlight\n4.  bullet point \n\n### ä»¥æœƒè­°ç­†è¨˜èˆ‰ä¾‹\n\n1. åˆ—å‡ºæ‰€æœ‰è¨è«–å‡ºä¾†ï¼Œéœ€è¦åšçš„ (need to do)\n2. åŠƒå‡ºé‡é»é …ç›®ã€é—œéµå­—\n3. ç°¡çŸ­åˆ—å‡º: å¦‚ä½•åŸ·è¡Œ (execute)\n\n## Express è¡¨é”\n\n### å“²å­¸æ€è¾¨: å¦‚ä½•é¨°å‡ºå°ˆæ³¨åŠ›ï¼Œå»ä¸æ¶ˆè€—å°ˆæ³¨åŠ›?\n\u003e ä½¿ç”¨ä¸­é–“ç”¢ç‰©\n\nProject è‡ªèµ·é»åˆ°çµ‚é»(æˆå“)ï¼Œæœ‰è¨±å¤šä¸­é–“ç”¢ç‰©ï¼Œä¾‹å¦‚: è‰ç¨¿ã€å¤§ç¶±ã€é¡§å®¢å›è¦†ã€‚æ”¶é›†é€™äº›è³‡æ–™ï¼Œæ”¾é€²ç¬¬äºŒå¤§è…¦ï¼Œé”åˆ°é‡è¤‡ä½¿ç”¨! \n\n### ä¸­é–“ç”¢ç‰©\n1. Note\n2. ä¸ä½¿ç”¨çš„ Proposal \n\t1. ä»¥åŠæª¢è¨ï¼Œç‚ºä½•ä¸ä½¿ç”¨ã€‚å¯èƒ½æ˜¯æœ‰é‡å¤§ç¼ºé™·ï¼Œéœ€è¦é¿å…ä»¥å¾Œè¸©åˆ°ã€‚\n3. åŠæˆå“??? \n4. åœ˜éšŠçš„æ–‡ä»¶ï¼Œé€™ç›¸ç•¶æ–¼ä»–äººçš„ç¶“é©—\n\n\n### åˆ‡åˆ†ã€Œä¸€ä»¶äº‹ã€\nä¸€ä»¶äº‹æœ‰å¾ˆå¤šç¢ç‰‡ï¼Œå¦‚æœä½ æ˜¯å¾é›¶é–‹å§‹ï¼Œå¯ä»¥æŠŠå®Œæˆé€™ä»¶äº‹éœ€è¦é‚£äº›ç¢ç‰‡å¯«ä¸‹ä¾†ï¼Œä¸¦æŠŠä½ èŠ±è²»å°ˆæ³¨åŠ› build å¥½çš„ç¢ç‰‡å­˜èµ·ä¾†ï¼Œè®“é€™äº›ç¢ç‰‡å¯ä»¥ Re-useã€‚\n\nåŒæ™‚ï¼Œä½ åœ¨å¾é›¶å»ºæ§‹ç¢ç‰‡æ™‚ï¼Œä¹Ÿå¯ä»¥å¸å–åˆ¥äººçš„ç¶“é©—ï¼ŒReuse åˆ¥äººçš„ç¢ç‰‡! \n\n\n\n\n## Resource\n- Author's website: https://www.buildingasecondbrain.com/resources\n- Obsidian As a Second Brain: https://www.youtube.com/watch?v=nz99I7apNLI\u0026list=WL\u0026index=2\n- Should Logseq be Your Second Brain? https://www.youtube.com/watch?v=VJ2reQcpbYA\u0026list=WL\u0026index=3\n- Pick a Notes App: Your Notetaking Style (Part 1) https://www.youtube.com/watch?v=f3dDVtJ2sec\u0026list=WL\u0026index=4\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Resource/Whisky/%E6%A0%BC%E8%98%AD%E5%82%91-%E5%96%AE%E4%B8%80%E9%BA%A5%E8%8A%BD%E5%A8%81%E5%A3%AB%E5%BF%8C":{"title":"æ ¼è˜­å‚‘-å–®ä¸€éº¥èŠ½å¨å£«å¿Œ","content":"Glenmorangie X Single Malt Scotch Whisky\n\n- è²·æ–¼å¥½äº‹å¤šï¼Œè·Ÿ \"çŸ¥å¤š\" å–èµ·ä¾†å·®ä¸å¤šï¼ŒCP å€¼æ¥µä½³!! \n- ç†æƒ³åƒ¹æ ¼: 600-650\n\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]},"/notes/Resource/Whisky/%E9%A1%98%E6%9C%9B%E6%B8%85%E5%96%AE":{"title":"å¨å£«å¿Œçš„é¡˜æœ›æ¸…å–®","content":"\n## å¾…éæ¿¾\n- [äº”æ”¯æ³¢æœ¬å¨å£«å¿Œæ¨è–¦æ–‡](https://medium.com/need-a-drink/%E5%8F%AA%E9%9C%80%E4%BA%94%E7%93%B6-%E6%B3%A2%E6%9C%AC-%E5%A8%81%E5%A3%AB%E5%BF%8C-%E7%BE%8E%E5%8F%B0%E5%8F%8B%E5%A5%BD-%E6%8E%A8%E8%96%A6%E6%B8%85%E5%96%AE-my-only-5-bourbon-whisky-i-need-112ff911ffbe)\n\n","lastmodified":"2023-04-21T13:53:16.174319998Z","tags":[]}}